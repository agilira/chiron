@charset "UTF-8";

/* ============================================================================
   CHIRON DESIGN SYSTEM - CSS VARIABLES
   Based on Carbon Design System
   ============================================================================ */

:root {
  /* ==========================================================================
     COLOR PALETTE - Raw Colors 
     ========================================================================== */
  
  /* Neutral Palette */
  --color-neutral-0: #ffffff;
  --color-neutral-50: #fafafa;
  --color-neutral-100: #f1f2f3;
  --color-neutral-200: #dedfe3;
  --color-neutral-300: #c2c5cb;
  --color-neutral-400: #8c909c;
  --color-neutral-500: #656a76;
  --color-neutral-600: #3b3d45;
  --color-neutral-700: #0c0c0e;
  --color-alpha-100: #656a761a;
  --color-alpha-200: #656a7633;
  --color-alpha-300: #3b3d4566;
  
  /* Blue Accent Palette */
  --color-blue-50: #f2f8ff;
  --color-blue-100: #cce3fe;
  --color-blue-200: #1060ff;
  --color-blue-300: #0c56e9;
  --color-blue-400: #0046d1;
  --color-blue-500: #1c345f;
  
  /* Purple Accent Palette */
  --color-purple-50: #f9f2ff;
  --color-purple-100: #ead2fe;
  --color-purple-200: #a737ff;
  --color-purple-300: #911ced;
  --color-purple-400: #7b00db;
  --color-purple-500: #42215b;
  
  /* Green Accent Palette */
  --color-green-50: #f2fbf6;
  --color-green-100: #cceeda;
  --color-green-200: #008a22;
  --color-green-300: #00781e;
  --color-green-400: #006619;
  --color-green-500: #054220;
  
  /* Amber Accent Palette */
  --color-amber-50: #fff9e8;
  --color-amber-100: #fbeabf;
  --color-amber-200: #bb5a00;
  --color-amber-300: #9e4b00;
  --color-amber-400: #803d00;
  --color-amber-500: #542800;
  
  /* Red Accent Palette */
  --color-red-50: #fff5f5;
  --color-red-100: #fbd4d4;
  --color-red-200: #e52228;
  --color-red-300: #c00005;
  --color-red-400: #940004;
  --color-red-500: #51130a;
  
  /* ==========================================================================
     SEMANTIC COLORS - Foreground (Text)
     ========================================================================== */
  
  /* Base Foreground */
  --color-foreground-strong: #0c0c0e;
  --color-foreground-primary: #3b3d45;
  --color-foreground-faint: #656a76;
  --color-foreground-high-contrast: #ffffff;
  --color-foreground-disabled: #8c909c;
  
  /* Action Foreground */
  --color-foreground-action: #1060ff;
  --color-foreground-action-hover: #0c56e9;
  --color-foreground-action-active: #0046d1;
  
  /* Highlight Foreground */
  --color-foreground-highlight: #a737ff;
  --color-foreground-highlight-on-surface: #911ced;
  --color-foreground-highlight-high-contrast: #42215b;
  
  /* Status Foreground - Success */
  --color-foreground-success: #008a22;
  --color-foreground-success-on-surface: #00781e;
  --color-foreground-success-high-contrast: #054220;
  
  /* Status Foreground - Warning */
  --color-foreground-warning: #bb5a00;
  --color-foreground-warning-on-surface: #9e4b00;
  --color-foreground-warning-high-contrast: #542800;
  --color-foreground-critical: #e52228;
  --color-foreground-critical-on-surface: #c00005;
  --color-foreground-critical-high-contrast: #51130a;
  
  /* Status Foreground - Critical/Error */
  
  /* ==========================================================================
     SEMANTIC COLORS - Border
     ========================================================================== */
  
  --color-border-primary: #656a7633;
  --color-border-faint: #656a761a;
  --color-border-strong: #3b3d4566;
  --color-border-action: #cce3fe;
  --color-border-highlight: #ead2fe;
  --color-border-success: #cceeda;
  --color-border-warning: #fbeabf;
  --color-border-critical: #fbd4d4;
  
  /* ==========================================================================
     SEMANTIC COLORS - Surface (Backgrounds)
     ========================================================================== */
  
  /* Base Surface */
  --color-surface-primary: #ffffff;
  --color-surface-faint: #fafafa;
  --color-surface-strong: #f1f2f3;
  
  /* Interactive Surface */
  --color-surface-interactive: #ffffff;
  --color-surface-interactive-hover: #f1f2f3;
  --color-surface-interactive-active: #dedfe3;
  --color-surface-interactive-disabled: #fafafa;
  
  /* Status Surfaces */
  --color-surface-action: #f2f8ff;
  --color-surface-highlight: #f9f2ff;
  --color-surface-success: #f2fbf6;
  --color-surface-warning: #fff9e8;
  --color-surface-critical: #fff5f5;
  
  /* ==========================================================================
     SEMANTIC COLORS - Page (Page Backgrounds)
     ========================================================================== */
  
  --color-page-primary: #ffffff;
  --color-page-faint: #fafafa;
  
  /* ==========================================================================
     SEMANTIC COLORS - Focus Ring (Accessibility)
     ========================================================================== */
  
  /* Action Focus (Blue) */
  --color-focus-action-internal: #0c56e9;
  --color-focus-action-external: #5990ff;
  
  /* Critical Focus (Red) */
  --color-focus-critical-internal: #c00005;
  --color-focus-critical-external: #dd7578;
  
  /* ==========================================================================
     BORDER RADIUS
     ========================================================================== */
  
  --border-radius-x-small: 3px;
  --border-radius-small: 5px;
  --border-radius-medium: 6px;
  --border-radius-large: 8px;
  
  /* ==========================================================================
     TYPOGRAPHY SYSTEM
     ========================================================================== */
  
  /* Font Families */
  /* Note: --font-body is defined in fonts.css (generated dynamically with custom fonts) */
  --font-family-sans: var(--font-body, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif);
  --font-family-mono: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace;
  
  /* Font Weights */
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  
  /* Font Sizes - Display (Headings) */
  --font-size-display-500: 1.875rem;
  --font-size-display-400: 1.5rem;
  --font-size-display-300: 1.125rem;
  --font-size-display-200: 1rem;
  --font-size-display-100: 0.8125rem;
  
  /* Font Sizes - Body (Paragraphs) */
  --font-size-body-300: 1rem;
  --font-size-body-200: 0.875rem;
  --font-size-body-100: 0.8125rem;
  
  /* Font Sizes - Code (Monospace) */
  --font-size-code-300: 1rem;
  --font-size-code-200: 0.875rem;
  --font-size-code-100: 0.8125rem;
  
  /* Line Heights */
  --line-height-tight: 1.25;
  --line-height-compact: 1.43;  /* Optimized for 0.875rem (14px) in navigation */
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.75;
  
  /* Letter Spacing */
  --letter-spacing-tight: -0.005em;
  --letter-spacing-normal: 0;
  --letter-spacing-wide: 0.025em;
  
  /* ==========================================================================
     SPACING SYSTEM
     ========================================================================== */
  
  /* Spacing Scale (originale) */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-10: 2.5rem;
  --space-12: 3rem;
  --space-16: 4rem;
  
  /* Semantic Spacing Aliases */
  --space-xs: var(--space-2);
  --space-sm: var(--space-3);
  --space-md: var(--space-5);
  --space-lg: var(--space-6);
  --space-xl: var(--space-10);
  --space-2xl: var(--space-10);
  --space-3xl: var(--space-12);
  
  /* ==========================================================================
     SHADOW SYSTEM 
     ========================================================================== */
  
  /* Basic Shadows */
  --shadow-inset: inset 0px 1px 2px 1px var(--color-alpha-200);
  --shadow-low: 0px 1px 1px 0px rgba(101, 106, 118, 0.05), 0px 2px 2px 0px rgba(101, 106, 118, 0.05);
  --shadow-mid: 0px 2px 3px 0px var(--color-alpha-200), 0px 8px 16px -10px var(--color-alpha-300);
  --shadow-high: 0px 2px 3px 0px rgba(101, 106, 118, 0.15), 0px 16px 16px -10px var(--color-alpha-300);
  --shadow-higher: 0px 2px 3px 0px var(--color-alpha-200), 0px 12px 28px 0px rgba(101, 106, 118, 0.25);
  --shadow-overlay: 0px 2px 3px 0px rgba(59, 61, 69, 0.25), 0px 12px 24px 0px rgba(59, 61, 69, 0.35);
  
  /* Surface Shadows (with border) */
  --shadow-surface-base: 0 0 0 1px var(--color-border-primary);
  --shadow-surface-low: 0 0 0 1px rgba(101, 106, 118, 0.15), 0px 1px 1px 0px rgba(101, 106, 118, 0.05), 0px 2px 2px 0px rgba(101, 106, 118, 0.05);
  --shadow-surface-mid: 0 0 0 1px rgba(101, 106, 118, 0.15), 0px 2px 3px 0px var(--color-alpha-200), 0px 8px 16px -10px var(--color-alpha-300);
  --shadow-surface-high: 0 0 0 1px rgba(101, 106, 118, 0.25), 0px 2px 3px 0px rgba(101, 106, 118, 0.15), 0px 16px 16px -10px var(--color-alpha-300);
  
  /* ==========================================================================
     LAYOUT DIMENSIONS
     ========================================================================== */
  
  /* Component Dimensions */
  --sidebar-width: 315px;
  --header-height: 64px;
  --container-width: 1200px;
  --container-width-narrow: 800px;
  --container-width-wide: 1600px;
  --breakpoint-sm: 320px;
  --breakpoint-md: 672px;
  --breakpoint-lg: 1056px;
  --breakpoint-xlg: 1312px;
  --breakpoint-max: 1584px;
  
  /* Breakpoints (Alternative) */
  --breakpoint-mobile: 480px;
  --breakpoint-tablet: 768px;
  --breakpoint-desktop: 1024px;
  
  /* ==========================================================================
     MOTION SYSTEM
     ========================================================================== */
  
  /* Durations */
  --duration-fast-01: 70ms;
  --duration-fast-02: 110ms;
  --duration-moderate-01: 150ms;
  --duration-moderate-02: 240ms;
  --duration-slow-01: 400ms;
  --duration-slow-02: 700ms;
  
  /* Easings */
  --easing-standard-productive: cubic-bezier(0.2, 0, 0.38, 0.9);
  --easing-standard-expressive: cubic-bezier(0.4, 0.14, 0.3, 1);
  --easing-entrance-productive: cubic-bezier(0, 0, 0.38, 0.9);
  --easing-entrance-expressive: cubic-bezier(0, 0, 0.3, 1);
  --easing-exit-productive: cubic-bezier(0.2, 0, 1, 0.9);
  --easing-exit-expressive: cubic-bezier(0.4, 0.14, 1, 1);
  
  /* Composite Transitions */
  --transition-fast: var(--duration-moderate-01) var(--easing-standard-productive);
  --transition-normal: var(--duration-moderate-02) var(--easing-standard-productive);
  --transition-slow: var(--duration-slow-01) var(--easing-standard-expressive);
  
  /* ==========================================================================
     Z-INDEX SCALE
     ========================================================================== */
  
  --z-index-dropdown: 1000;
  --z-index-sticky: 100;
  --z-index-fixed: 200;
  --z-index-modal-backdrop: 1040;
  --z-index-modal: 1050;
  --z-index-popover: 1060;
  --z-index-tooltip: 1070;
  
  /* ==========================================================================
     OPACITY SCALE
     ========================================================================== */
  
  --opacity-disabled: 0.5;
  --opacity-hover: 0.7;
  
  /* ==========================================================================
     COMPATIBILITY ALIASES (Legacy Support)
     ========================================================================== */
  --color-accent: var(--color-foreground-action);
  --color-accent-hover: var(--color-foreground-action-hover);
  --color-primary: var(--color-foreground-action);
  --color-focus: var(--color-focus-action-internal);
  --color-border: var(--color-border-primary);
  --color-border-secondary: var(--color-border-primary);
  --color-code-bg: var(--color-surface-strong);
  --success-500: var(--color-green-300);
  --error-500: var(--color-red-300);
  --warning-500: var(--color-amber-300);
  /* Note: --font-heading and --font-body are defined in fonts.css (generated dynamically) */
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-4xl: 2.25rem;
  
  /* Legacy text/bg/border variables (for TOC and other components) */
  --text-primary: var(--color-foreground-primary);
  --text-secondary: var(--color-foreground-faint);
  --text-tertiary: var(--color-foreground-disabled);
  --bg-secondary: var(--color-surface-faint);
  --bg-tertiary: var(--color-surface-strong);
  --border-primary: var(--color-border-primary);
  --border-color: var(--color-border-primary);
  --surface-color: var(--color-surface-primary);
  --accent-color: var(--color-foreground-action);
  --primary-50: var(--color-blue-50);
  --primary-400: var(--color-blue-200);
  --primary-500: var(--color-foreground-action);
  --primary-600: var(--color-foreground-action-hover);
  --scrollbar-thumb: var(--color-neutral-400);
  --scrollbar-thumb-hover: var(--color-neutral-500);
  --scrollbar-track: var(--color-neutral-100);
  
  /* Neutral aliases (senza prefisso color-) */
  --neutral-50: var(--color-neutral-50);
  --neutral-100: var(--color-neutral-100);
  --neutral-200: var(--color-neutral-200);
  --neutral-300: var(--color-neutral-300);
  --neutral-400: var(--color-neutral-400);
  --neutral-500: var(--color-neutral-500);
  --neutral-600: var(--color-neutral-600);
  --neutral-700: var(--color-neutral-700);
  --neutral-800: #1f2937;
  --neutral-900: #15181E;
  --neutral-950: #0f1115;
}

/* ============================================================================
   END OF CSS VARIABLES
   ============================================================================ */

/* Margin Top */
.mt-01 { margin-top: var(--space-01) !important; }
.mt-02 { margin-top: var(--space-02) !important; }
.mt-03 { margin-top: var(--space-03) !important; }
.mt-04 { margin-top: var(--space-04) !important; }
.mt-05 { margin-top: var(--space-05) !important; }
.mt-06 { margin-top: var(--space-06) !important; }
.mt-07 { margin-top: var(--space-07) !important; }
.mt-08 { margin-top: var(--space-08) !important; }
.mt-09 { margin-top: var(--space-09) !important; }
.mt-10 { margin-top: var(--space-10) !important; }

/* Margin Bottom */
.mb-01 { margin-bottom: var(--space-01) !important; }
.mb-02 { margin-bottom: var(--space-02) !important; }
.mb-03 { margin-bottom: var(--space-03) !important; }
.mb-04 { margin-bottom: var(--space-04) !important; }
.mb-05 { margin-bottom: var(--space-05) !important; }
.mb-06 { margin-bottom: var(--space-06) !important; }
.mb-07 { margin-bottom: var(--space-07) !important; }
.mb-08 { margin-bottom: var(--space-08) !important; }
.mb-09 { margin-bottom: var(--space-09) !important; }
.mb-10 { margin-bottom: var(--space-10) !important; }

/* Margin Left */
.ml-01 { margin-left: var(--space-01) !important; }
.ml-02 { margin-left: var(--space-02) !important; }
.ml-03 { margin-left: var(--space-03) !important; }
.ml-04 { margin-left: var(--space-04) !important; }
.ml-05 { margin-left: var(--space-05) !important; }
.ml-06 { margin-left: var(--space-06) !important; }

/* Margin Right */
.mr-01 { margin-right: var(--space-01) !important; }
.mr-02 { margin-right: var(--space-02) !important; }
.mr-03 { margin-right: var(--space-03) !important; }
.mr-04 { margin-right: var(--space-04) !important; }
.mr-05 { margin-right: var(--space-05) !important; }
.mr-06 { margin-right: var(--space-06) !important; }

/* Margin X (Horizontal) */
.mx-01 { margin-left: var(--space-01) !important; margin-right: var(--space-01) !important; }
.mx-02 { margin-left: var(--space-02) !important; margin-right: var(--space-02) !important; }
.mx-03 { margin-left: var(--space-03) !important; margin-right: var(--space-03) !important; }
.mx-04 { margin-left: var(--space-04) !important; margin-right: var(--space-04) !important; }
.mx-05 { margin-left: var(--space-05) !important; margin-right: var(--space-05) !important; }
.mx-06 { margin-left: var(--space-06) !important; margin-right: var(--space-06) !important; }

/* Margin Y (Vertical) */
.my-01 { margin-top: var(--space-01) !important; margin-bottom: var(--space-01) !important; }
.my-02 { margin-top: var(--space-02) !important; margin-bottom: var(--space-02) !important; }
.my-03 { margin-top: var(--space-03) !important; margin-bottom: var(--space-03) !important; }
.my-04 { margin-top: var(--space-04) !important; margin-bottom: var(--space-04) !important; }
.my-05 { margin-top: var(--space-05) !important; margin-bottom: var(--space-05) !important; }
.my-06 { margin-top: var(--space-06) !important; margin-bottom: var(--space-06) !important; }

/* Margin Auto */
.mx-auto { margin-left: auto !important; margin-right: auto !important; }
.my-auto { margin-top: auto !important; margin-bottom: auto !important; }
.m-auto { margin: auto !important; }

/* Margin Zero */
.m-0 { margin: 0 !important; }
.mt-0 { margin-top: 0 !important; }
.mb-0 { margin-bottom: 0 !important; }
.ml-0 { margin-left: 0 !important; }
.mr-0 { margin-right: 0 !important; }

/* --- 4.2 Padding Utilities --- */

/* Padding All */
.p-01 { padding: var(--space-01) !important; }
.p-02 { padding: var(--space-02) !important; }
.p-03 { padding: var(--space-03) !important; }
.p-04 { padding: var(--space-04) !important; }
.p-05 { padding: var(--space-05) !important; }
.p-06 { padding: var(--space-06) !important; }
.p-07 { padding: var(--space-07) !important; }
.p-08 { padding: var(--space-08) !important; }

/* Padding Top */
.pt-01 { padding-top: var(--space-01) !important; }
.pt-02 { padding-top: var(--space-02) !important; }
.pt-03 { padding-top: var(--space-03) !important; }
.pt-04 { padding-top: var(--space-04) !important; }
.pt-05 { padding-top: var(--space-05) !important; }
.pt-06 { padding-top: var(--space-06) !important; }

/* Padding Bottom */
.pb-01 { padding-bottom: var(--space-01) !important; }
.pb-02 { padding-bottom: var(--space-02) !important; }
.pb-03 { padding-bottom: var(--space-03) !important; }
.pb-04 { padding-bottom: var(--space-04) !important; }
.pb-05 { padding-bottom: var(--space-05) !important; }
.pb-06 { padding-bottom: var(--space-06) !important; }

/* Padding Left */
.pl-01 { padding-left: var(--space-01) !important; }
.pl-02 { padding-left: var(--space-02) !important; }
.pl-03 { padding-left: var(--space-03) !important; }
.pl-04 { padding-left: var(--space-04) !important; }
.pl-05 { padding-left: var(--space-05) !important; }
.pl-06 { padding-left: var(--space-06) !important; }

/* Padding Right */
.pr-01 { padding-right: var(--space-01) !important; }
.pr-02 { padding-right: var(--space-02) !important; }
.pr-03 { padding-right: var(--space-03) !important; }
.pr-04 { padding-right: var(--space-04) !important; }
.pr-05 { padding-right: var(--space-05) !important; }
.pr-06 { padding-right: var(--space-06) !important; }

/* Padding X (Horizontal) */
.px-01 { padding-left: var(--space-01) !important; padding-right: var(--space-01) !important; }
.px-02 { padding-left: var(--space-02) !important; padding-right: var(--space-02) !important; }
.px-03 { padding-left: var(--space-03) !important; padding-right: var(--space-03) !important; }
.px-04 { padding-left: var(--space-04) !important; padding-right: var(--space-04) !important; }
.px-05 { padding-left: var(--space-05) !important; padding-right: var(--space-05) !important; }
.px-06 { padding-left: var(--space-06) !important; padding-right: var(--space-06) !important; }

/* Padding Y (Vertical) */
.py-01 { padding-top: var(--space-01) !important; padding-bottom: var(--space-01) !important; }
.py-02 { padding-top: var(--space-02) !important; padding-bottom: var(--space-02) !important; }
.py-03 { padding-top: var(--space-03) !important; padding-bottom: var(--space-03) !important; }
.py-04 { padding-top: var(--space-04) !important; padding-bottom: var(--space-04) !important; }
.py-05 { padding-top: var(--space-05) !important; padding-bottom: var(--space-05) !important; }
.py-06 { padding-top: var(--space-06) !important; padding-bottom: var(--space-06) !important; }

/* Padding Zero */
.p-0 { padding: 0 !important; }
.pt-0 { padding-top: 0 !important; }
.pb-0 { padding-bottom: 0 !important; }
.pl-0 { padding-left: 0 !important; }
.pr-0 { padding-right: 0 !important; }

/* ============================================
   SECTION 5: UTILITY CLASSES - TYPOGRAPHY
   ============================================ */

/* --- 5.1 Font Size --- */
.text-display-500 { font-size: var(--font-size-display-500) !important; }
.text-display-400 { font-size: var(--font-size-display-400) !important; }
.text-display-300 { font-size: var(--font-size-display-300) !important; }
.text-display-200 { font-size: var(--font-size-display-200) !important; }
.text-display-100 { font-size: var(--font-size-display-100) !important; }

.text-body-300 { font-size: var(--font-size-body-300) !important; }
.text-body-200 { font-size: var(--font-size-body-200) !important; }
.text-body-100 { font-size: var(--font-size-body-100) !important; }

.text-code-300 { font-size: var(--font-size-code-300) !important; }
.text-code-200 { font-size: var(--font-size-code-200) !important; }
.text-code-100 { font-size: var(--font-size-code-100) !important; }

/* --- 5.2 Font Weight --- */
.font-regular { font-weight: var(--font-weight-regular) !important; }
.font-medium { font-weight: var(--font-weight-medium) !important; }
.font-semibold { font-weight: var(--font-weight-semibold) !important; }
.font-bold { font-weight: var(--font-weight-bold) !important; }

/* --- 5.3 Line Height --- */
.leading-tight { line-height: var(--line-height-tight) !important; }
.leading-compact { line-height: var(--line-height-compact) !important; }
.leading-normal { line-height: var(--line-height-normal) !important; }
.leading-relaxed { line-height: var(--line-height-relaxed) !important; }

/* --- 5.4 Text Alignment --- */
.text-left { text-align: left !important; }
.text-center { text-align: center !important; }
.text-right { text-align: right !important; }
.text-justify { text-align: justify !important; }

/* --- 5.5 Text Colors --- */
.text-foreground-strong { color: var(--color-foreground-strong) !important; }
.text-foreground-primary { color: var(--color-foreground-primary) !important; }
.text-foreground-faint { color: var(--color-foreground-faint) !important; }
.text-foreground-action { color: var(--color-foreground-action) !important; }

/* --- 5.6 Font Family --- */
.font-sans { font-family: var(--font-family-sans) !important; }
.font-mono { font-family: var(--font-family-mono) !important; }

/* --- 5.7 Text Decoration --- */
.underline { text-decoration: underline !important; }
.no-underline { text-decoration: none !important; }
.line-through { text-decoration: line-through !important; }

/* --- 5.8 Text Transform --- */
.uppercase { text-transform: uppercase !important; }
.lowercase { text-transform: lowercase !important; }
.capitalize { text-transform: capitalize !important; }
.normal-case { text-transform: none !important; }

/* --- 5.9 White Space --- */
.whitespace-normal { white-space: normal !important; }
.whitespace-nowrap { white-space: nowrap !important; }
.whitespace-pre { white-space: pre !important; }
.whitespace-pre-line { white-space: pre-line !important; }
.whitespace-pre-wrap { white-space: pre-wrap !important; }

/* --- 5.10 Word Break --- */
.break-normal { word-break: normal !important; overflow-wrap: normal !important; }
.break-words { overflow-wrap: break-word !important; }
.break-all { word-break: break-all !important; }

/* --- 5.11 Truncate --- */
.truncate {
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

/* --- 5.12 Line Clamp --- */
.line-clamp-1 {
  display: -webkit-box !important;
  -webkit-line-clamp: 1 !important;
  line-clamp: 1 !important;
  -webkit-box-orient: vertical !important;
  overflow: hidden !important;
}

.line-clamp-2 {
  display: -webkit-box !important;
  -webkit-line-clamp: 2 !important;
  line-clamp: 2 !important;
  -webkit-box-orient: vertical !important;
  overflow: hidden !important;
}

.line-clamp-3 {
  display: -webkit-box !important;
  -webkit-line-clamp: 3 !important;
  line-clamp: 3 !important;
  -webkit-box-orient: vertical !important;
  overflow: hidden !important;
}

.line-clamp-none {
  display: block !important;
  -webkit-line-clamp: unset !important;
  line-clamp: unset !important;
  -webkit-box-orient: unset !important;
  overflow: visible !important;
}

/* ============================================
   SECTION 6: UTILITY CLASSES - LAYOUT & DISPLAY
   ============================================ */

/* --- 6.1 Display --- */
.block { display: block !important; }
.inline { display: inline !important; }
.inline-block { display: inline-block !important; }
.inline-flex { display: inline-flex !important; }
.flex { display: flex !important; }
.inline-grid { display: inline-grid !important; }
.grid { display: grid !important; }
.table { display: table !important; }
.table-cell { display: table-cell !important; }
.table-row { display: table-row !important; }
.hidden { display: none !important; }

/* --- 6.2 Position --- */
.static { position: static !important; }
.relative { position: relative !important; }
.absolute { position: absolute !important; }
.fixed { position: fixed !important; }
.sticky { position: sticky !important; }

/* --- 6.3 Float --- */
.float-left { float: left !important; }
.float-right { float: right !important; }
.float-none { float: none !important; }
.clearfix::after {
  content: "";
  display: table;
  clear: both;
}

/* --- 6.4 Overflow --- */
.overflow-auto { overflow: auto !important; }
.overflow-hidden { overflow: hidden !important; }
.overflow-visible { overflow: visible !important; }
.overflow-scroll { overflow: scroll !important; }
.overflow-x-auto { overflow-x: auto !important; }
.overflow-x-hidden { overflow-x: hidden !important; }
.overflow-x-scroll { overflow-x: scroll !important; }
.overflow-y-auto { overflow-y: auto !important; }
.overflow-y-hidden { overflow-y: hidden !important; }
.overflow-y-scroll { overflow-y: scroll !important; }

/* --- 6.5 Visibility --- */
.visible { visibility: visible !important; }
.invisible { visibility: hidden !important; }

/* --- 6.6 Z-Index --- */
.z-0 { z-index: 0 !important; }
.z-10 { z-index: 10 !important; }
.z-20 { z-index: 20 !important; }
.z-30 { z-index: 30 !important; }
.z-40 { z-index: 40 !important; }
.z-50 { z-index: 50 !important; }
.z-auto { z-index: auto !important; }

/* --- 6.7 Width --- */
.w-auto { width: auto !important; }
.w-full { width: 100% !important; }
.w-screen { width: 100vw !important; }
.w-fit { width: fit-content !important; }
.w-max { width: max-content !important; }
.w-min { width: min-content !important; }

/* --- 6.8 Height --- */
.h-auto { height: auto !important; }
.h-full { height: 100% !important; }
.h-screen { height: 100vh !important; }
.h-fit { height: fit-content !important; }
.h-max { height: max-content !important; }
.h-min { height: min-content !important; }

/* --- 6.9 Max Width --- */
.max-w-none { max-width: none !important; }
.max-w-full { max-width: 100% !important; }
.max-w-screen { max-width: 100vw !important; }
.max-w-fit { max-width: fit-content !important; }

/* --- 6.10 Max Height --- */
.max-h-none { max-height: none !important; }
.max-h-full { max-height: 100% !important; }
.max-h-screen { max-height: 100vh !important; }

/* --- 6.11 Min Width --- */
.min-w-0 { min-width: 0 !important; }
.min-w-full { min-width: 100% !important; }
.min-w-fit { min-width: fit-content !important; }

/* --- 6.12 Min Height --- */
.min-h-0 { min-height: 0 !important; }
.min-h-full { min-height: 100% !important; }
.min-h-screen { min-height: 100vh !important; }

/* ============================================
   SECTION 7: UTILITY CLASSES - FLEXBOX
   ============================================ */

/* --- 7.1 Flex Direction --- */
.flex-row { flex-direction: row !important; }
.flex-row-reverse { flex-direction: row-reverse !important; }
.flex-col { flex-direction: column !important; }
.flex-col-reverse { flex-direction: column-reverse !important; }

/* --- 7.2 Flex Wrap --- */
.flex-wrap { flex-wrap: wrap !important; }
.flex-wrap-reverse { flex-wrap: wrap-reverse !important; }
.flex-nowrap { flex-wrap: nowrap !important; }

/* --- 7.3 Justify Content --- */
.justify-start { justify-content: flex-start !important; }
.justify-end { justify-content: flex-end !important; }
.justify-center { justify-content: center !important; }
.justify-between { justify-content: space-between !important; }
.justify-around { justify-content: space-around !important; }
.justify-evenly { justify-content: space-evenly !important; }

/* --- 7.4 Align Items --- */
.items-start { align-items: flex-start !important; }
.items-end { align-items: flex-end !important; }
.items-center { align-items: center !important; }
.items-baseline { align-items: baseline !important; }
.items-stretch { align-items: stretch !important; }

/* --- 7.5 Align Self --- */
.self-auto { align-self: auto !important; }
.self-start { align-self: flex-start !important; }
.self-end { align-self: flex-end !important; }
.self-center { align-self: center !important; }
.self-stretch { align-self: stretch !important; }
.self-baseline { align-self: baseline !important; }

/* --- 7.6 Flex Grow/Shrink --- */
.flex-grow { flex-grow: 1 !important; }
.flex-grow-0 { flex-grow: 0 !important; }
.flex-shrink { flex-shrink: 1 !important; }
.flex-shrink-0 { flex-shrink: 0 !important; }

/* --- 7.7 Flex Basis --- */
.flex-basis-auto { flex-basis: auto !important; }
.flex-basis-0 { flex-basis: 0 !important; }

/* --- 7.8 Flex --- */
.flex-1 { flex: 1 1 0% !important; }
.flex-auto { flex: 1 1 auto !important; }
.flex-initial { flex: 0 1 auto !important; }
.flex-none { flex: none !important; }

/* --- 7.9 Gap --- */
.gap-01 { gap: var(--space-01) !important; }
.gap-02 { gap: var(--space-02) !important; }
.gap-03 { gap: var(--space-03) !important; }
.gap-04 { gap: var(--space-04) !important; }
.gap-05 { gap: var(--space-05) !important; }
.gap-06 { gap: var(--space-06) !important; }
.gap-07 { gap: var(--space-07) !important; }
.gap-08 { gap: var(--space-08) !important; }

/* ============================================
   SECTION 8: UTILITY CLASSES - GRID
   ============================================ */


/* --- 8.3 Grid Row Span --- */
.row-span-1 { grid-row: span 1 / span 1 !important; }
.row-span-2 { grid-row: span 2 / span 2 !important; }
.row-span-3 { grid-row: span 3 / span 3 !important; }
.row-span-full { grid-row: 1 / -1 !important; }

/* --- 8.4 Grid Auto Flow --- */
.grid-flow-row { grid-auto-flow: row !important; }
.grid-flow-col { grid-auto-flow: column !important; }
.grid-flow-dense { grid-auto-flow: dense !important; }
.grid-flow-row-dense { grid-auto-flow: row dense !important; }
.grid-flow-col-dense { grid-auto-flow: column dense !important; }

/* ============================================
   SECTION 8.5: RESPONSIVE GRID SYSTEM
   12-column responsive grid with breakpoints
   ============================================ */

/* Base Grid Container - 12 column system for advanced layouts */
.grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: var(--space-6);
  width: 100%;
}

/* Simple Grid Shortcuts - Equal width columns */
.grid-2 {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-6);
}

.grid-3 {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-6);
}

.grid-4 {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-6);
}

.grid-6 {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: var(--space-6);
}

/* Auto-fit Grid - Responsive based on min-width */
.grid-auto-fit {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-6);
}

/* Asymmetric Grid Layouts - Common ratios */
.grid-2-1 {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: var(--space-6);
}

.grid-3-1 {
  display: grid;
  grid-template-columns: 3fr 1fr;
  gap: var(--space-6);
}

.grid-1-2 {
  display: grid;
  grid-template-columns: 1fr 2fr;
  gap: var(--space-6);
}

.grid-1-3 {
  display: grid;
  grid-template-columns: 1fr 3fr;
  gap: var(--space-6);
}


/* Gap Utilities for Grid */
.gap-2 { gap: var(--space-2) !important; }
.gap-4 { gap: var(--space-4) !important; }
.gap-6 { gap: var(--space-6) !important; }
.gap-8 { gap: var(--space-8) !important; }

/* ============================================
   SECTION 9: UTILITY CLASSES - OBJECT FIT & POSITION
   ============================================ */

/* --- 9.1 Object Fit --- */
.object-contain { object-fit: contain !important; }
.object-cover { object-fit: cover !important; }
.object-fill { object-fit: fill !important; }
.object-none { object-fit: none !important; }
.object-scale-down { object-fit: scale-down !important; }

/* --- 9.2 Object Position --- */
.object-bottom { object-position: bottom !important; }
.object-center { object-position: center !important; }
.object-left { object-position: left !important; }
.object-left-bottom { object-position: left bottom !important; }
.object-left-top { object-position: left top !important; }
.object-right { object-position: right !important; }
.object-right-bottom { object-position: right bottom !important; }
.object-right-top { object-position: right top !important; }
.object-top { object-position: top !important; }

/* ============================================
   SECTION 10: UTILITY CLASSES - CURSOR & POINTER EVENTS
   ============================================ */

/* --- 10.1 Cursor --- */
.cursor-auto { cursor: auto !important; }
.cursor-default { cursor: default !important; }
.cursor-pointer { cursor: pointer !important; }
.cursor-wait { cursor: wait !important; }
.cursor-text { cursor: text !important; }
.cursor-move { cursor: move !important; }
.cursor-help { cursor: help !important; }
.cursor-not-allowed { cursor: not-allowed !important; }

/* --- 10.2 Pointer Events --- */
.pointer-events-none { pointer-events: none !important; }
.pointer-events-auto { pointer-events: auto !important; }

/* --- 10.3 User Select --- */
.select-none { user-select: none !important; }
.select-text { user-select: text !important; }
.select-all { user-select: all !important; }
.select-auto { user-select: auto !important; }

/* ============================================
   SECTION 11: UTILITY CLASSES - BORDERS & ROUNDED
   ============================================ */

/* --- 11.1 Border Width --- */
.border-0 { border-width: 0 !important; }
.border { border-width: 1px !important; }
.border-2 { border-width: 2px !important; }
.border-4 { border-width: 4px !important; }
.border-t { border-top-width: 1px !important; }
.border-r { border-right-width: 1px !important; }
.border-b { border-bottom-width: 1px !important; }
.border-l { border-left-width: 1px !important; }
.border-t-0 { border-top-width: 0 !important; }
.border-r-0 { border-right-width: 0 !important; }
.border-b-0 { border-bottom-width: 0 !important; }
.border-l-0 { border-left-width: 0 !important; }

/* --- 11.2 Border Style --- */
.border-solid { border-style: solid !important; }
.border-dashed { border-style: dashed !important; }
.border-dotted { border-style: dotted !important; }
.border-none { border-style: none !important; }

/* --- 11.3 Border Color (Semantic) --- */
.border-primary { border-color: var(--color-border-primary) !important; }
.border-faint { border-color: var(--color-border-faint) !important; }
.border-strong { border-color: var(--color-border-strong) !important; }

/* --- 11.4 Border Radius --- */
.rounded-none { border-radius: 0 !important; }
.rounded-xs { border-radius: var(--border-radius-x-small) !important; }
.rounded-sm { border-radius: var(--border-radius-small) !important; }
.rounded { border-radius: var(--border-radius-medium) !important; }
.rounded-md { border-radius: var(--border-radius-medium) !important; }
.rounded-lg { border-radius: var(--border-radius-large) !important; }
.rounded-full { border-radius: 9999px !important; }
.rounded-t { border-top-left-radius: var(--border-radius-medium) !important; border-top-right-radius: var(--border-radius-medium) !important; }
.rounded-r { border-top-right-radius: var(--border-radius-medium) !important; border-bottom-right-radius: var(--border-radius-medium) !important; }
.rounded-b { border-bottom-right-radius: var(--border-radius-medium) !important; border-bottom-left-radius: var(--border-radius-medium) !important; }
.rounded-l { border-top-left-radius: var(--border-radius-medium) !important; border-bottom-left-radius: var(--border-radius-medium) !important; }
.rounded-tl { border-top-left-radius: var(--border-radius-medium) !important; }
.rounded-tr { border-top-right-radius: var(--border-radius-medium) !important; }
.rounded-br { border-bottom-right-radius: var(--border-radius-medium) !important; }
.rounded-bl { border-bottom-left-radius: var(--border-radius-medium) !important; }

/* ============================================
   SECTION 12: UTILITY CLASSES - BACKGROUND COLORS
   ============================================ */

/* --- 12.1 Background Colors (Semantic) --- */
.bg-transparent { background-color: transparent !important; }
.bg-surface-primary { background-color: var(--color-surface-primary) !important; }
.bg-surface-faint { background-color: var(--color-surface-faint) !important; }
.bg-surface-strong { background-color: var(--color-surface-strong) !important; }
.bg-page-primary { background-color: var(--color-page-primary) !important; }
.bg-page-faint { background-color: var(--color-page-faint) !important; }

/* --- 12.2 Background Colors (Status) --- */
.bg-surface-action { background-color: var(--color-surface-action) !important; }
.bg-surface-success { background-color: var(--color-surface-success) !important; }
.bg-surface-warning { background-color: var(--color-surface-warning) !important; }
.bg-surface-critical { background-color: var(--color-surface-critical) !important; }

/* ============================================
   SECTION 13: UTILITY CLASSES - SHADOWS
   ============================================ */

.shadow-none { box-shadow: none !important; }
.shadow-inset { box-shadow: var(--shadow-inset) !important; }
.shadow-low { box-shadow: var(--shadow-low) !important; }
.shadow-mid { box-shadow: var(--shadow-mid) !important; }
.shadow-high { box-shadow: var(--shadow-high) !important; }
.shadow-higher { box-shadow: var(--shadow-higher) !important; }
.shadow-overlay { box-shadow: var(--shadow-overlay) !important; }
.shadow-surface-base { box-shadow: var(--shadow-surface-base) !important; }
.shadow-surface-low { box-shadow: var(--shadow-surface-low) !important; }
.shadow-surface-mid { box-shadow: var(--shadow-surface-mid) !important; }
.shadow-surface-high { box-shadow: var(--shadow-surface-high) !important; }

/* ============================================
   SECTION 14: UTILITY CLASSES - TRANSITIONS
   ============================================ */

.transition-none { transition-property: none !important; }
.transition-all { transition-property: all !important; transition-timing-function: var(--easing-standard-productive) !important; transition-duration: var(--duration-moderate-01) !important; }
.transition-colors { transition-property: color, background-color, border-color, text-decoration-color, fill, stroke !important; transition-timing-function: var(--easing-standard-productive) !important; transition-duration: var(--duration-moderate-01) !important; }
.transition-opacity { transition-property: opacity !important; transition-timing-function: var(--easing-standard-productive) !important; transition-duration: var(--duration-moderate-01) !important; }
.transition-transform { transition-property: transform !important; transition-timing-function: var(--easing-standard-productive) !important; transition-duration: var(--duration-moderate-01) !important; }

.duration-fast { transition-duration: var(--duration-fast-01) !important; }
.duration-normal { transition-duration: var(--duration-moderate-01) !important; }
.duration-slow { transition-duration: var(--duration-slow-01) !important; }

.ease-in { transition-timing-function: cubic-bezier(0.4, 0, 1, 1) !important; }
.ease-out { transition-timing-function: cubic-bezier(0, 0, 0.2, 1) !important; }
.ease-in-out { transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important; }
.ease-standard { transition-timing-function: var(--easing-standard-productive) !important; }
.ease-entrance { transition-timing-function: var(--easing-entrance-expressive) !important; }
.ease-exit { transition-timing-function: var(--easing-exit-productive) !important; }

/* ============================================
   SECTION 15: UTILITY CLASSES - OPACITY
   ============================================ */

.opacity-0 { opacity: 0 !important; }
.opacity-25 { opacity: 0.25 !important; }
.opacity-50 { opacity: 0.5 !important; }
.opacity-75 { opacity: 0.75 !important; }
.opacity-100 { opacity: 1 !important; }

/* ============================================
   SECTION 16: UTILITY CLASSES - LISTS
   ============================================ */

/* List Style Type */
.list-none { list-style-type: none !important; }
.list-disc { list-style-type: disc !important; }
.list-decimal { list-style-type: decimal !important; }
.list-circle { list-style-type: circle !important; }
.list-square { list-style-type: square !important; }

/* List Style Position */
.list-inside { list-style-position: inside !important; }
.list-outside { list-style-position: outside !important; }

/* ============================================
   SECTION 17: UTILITY CLASSES - TABLES
   ============================================ */

.table-auto { table-layout: auto !important; }
.table-fixed { table-layout: fixed !important; }
.caption-top { caption-side: top !important; }
.caption-bottom { caption-side: bottom !important; }

/* ============================================
   SECTION 18: COMPONENTS - BUTTONS
   ============================================ */

/* --- 18.1 Button Base Reset & Common Styles --- */
/* Applied to all buttons - reset and shared properties */
button,
.btn {
  /* Reset default button styles */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  margin: 0;
  padding: var(--space-03) var(--space-05);
  border: none;
  background: none;
  font: inherit;
  color: inherit;
  text-decoration: none;
  cursor: pointer;
  user-select: none;
  -webkit-appearance: none;
  appearance: none;
  
  /* Base sizing - Minimum 44px for accessibility (WCAG 2.2 Level AA) */
  min-height: 44px;
  min-width: 44px;
  
  /* Typography */
  font-family: var(--font-family-sans);
  font-size: var(--font-size-body-200);
  font-weight: var(--font-weight-medium);
  line-height: var(--line-height-normal);
  text-align: center;
  
  /* Transitions */
  transition: all var(--transition-fast);
}

/* Button disabled state */
button:disabled,
button[disabled],
.btn:disabled,
.btn[disabled],
.btn.disabled {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

/* Button focus visible (accessibility) */
button:focus-visible,
.btn:focus-visible {
  outline: 2px solid var(--color-focus-action-external);
  outline-offset: 2px;
}

/* --- 18.2 Button Common Layout --- */
/* Border radius for styled button variants */
.btn-primary,
.btn-default,
.btn-secondary,
.btn-tertiary,
.btn-destructive,
.btn-danger,
form button:not([class*="btn-"]):not([type="reset"]):not([type="submit"]) {
  border-radius: var(--border-radius-medium);
}

/* --- 18.3 Button Primary (Action) --- */
.btn-primary,
.btn-default,
form button:not([class*="btn-"]):not([type="reset"]):not([type="submit"]) {
  /* Colors */
  background-color: var(--color-foreground-action);
  color: var(--color-foreground-high-contrast);
  border: 1px solid var(--color-foreground-action);
  
  /* Shadow */
  box-shadow: var(--shadow-surface-base);
  
  /* Hover */
  &:hover:not(:disabled):not([disabled]):not(.disabled) {
    background-color: var(--color-foreground-action-hover);
    border-color: var(--color-foreground-action-hover);
    color: var(--color-foreground-high-contrast);
    box-shadow: var(--shadow-surface-low);
  }
  
  /* Active */
  &:active:not(:disabled):not([disabled]):not(.disabled) {
    background-color: var(--color-foreground-action-active);
    border-color: var(--color-foreground-action-active);
    box-shadow: var(--shadow-inset);
  }
  
  /* Focus */
  &:focus-visible {
    outline-color: var(--color-focus-action-external);
  }
}

/* --- 18.4 Button Secondary (Outlined) --- */
.btn-secondary {
  /* Colors */
  background-color: var(--color-surface-faint);
  color: var(--color-foreground-primary);
  border: 1px solid var(--color-border-strong);
  
  /* Shadow */
  box-shadow: var(--shadow-surface-base);
  
  /* Hover */
  &:hover:not(:disabled):not([disabled]):not(.disabled) {
    background-color: var(--color-surface-primary);
    border-color: var(--color-border-strong);
    color: var(--color-foreground-primary);
    cursor: pointer;
  }
  
  /* Active */
  &:active:not(:disabled):not([disabled]):not(.disabled) {
    background-color: var(--color-surface-interactive-active);
    border-color: var(--color-border-strong);
    box-shadow: none;
  }
  
  /* Focus */
  &:focus-visible {
    outline-color: var(--color-focus-action-external);
    border-color: var(--color-focus-action-internal);
  }
}

/* --- 18.5 Button Tertiary (Ghost) --- */
.btn-tertiary {
  /* Colors */
  background-color: transparent;
  color: var(--color-foreground-action);
  border: 1px solid transparent;
  
  /* Hover */
  &:hover:not(:disabled):not([disabled]):not(.disabled) {
    background-color: var(--color-surface-primary);
    border-color: var(--color-border-strong);
    color: var(--color-foreground-action-hover);
    cursor: pointer;
  }
  
  /* Active */
  &:active:not(:disabled):not([disabled]):not(.disabled) {
    background-color: var(--color-surface-interactive-active);
    border-color: var(--color-border-strong);
    color: var(--color-foreground-action-active);
  }
  
  /* Focus */
  &:focus-visible {
    outline-color: var(--color-focus-action-external);
    border-color: var(--color-focus-action-internal);
  }
}

/* --- 18.6 Button Sizes --- */

/* Small */
.btn-sm,
button.btn-sm {
  min-height: 36px;
  padding: var(--space-02) var(--space-04);
  font-size: var(--font-size-body-100);
  border-radius: var(--border-radius-small);
}

/* Large */
.btn-lg,
button.btn-lg {
  min-height: 48px;
  padding: var(--space-04) var(--space-06);
  font-size: var(--font-size-body-300);
  font-weight: var(--font-weight-semibold);
  border-radius: var(--border-radius-medium);
}

/* --- 18.7 Button Destructive (Critical) --- */
.btn-destructive,
.btn-danger {
  /* Colors */
  background-color: var(--color-foreground-critical);
  color: var(--color-foreground-high-contrast);
  border: 1px solid var(--color-foreground-critical);
  
  /* Shadow */
  box-shadow: var(--shadow-surface-base);
  
  /* Hover */
  &:hover:not(:disabled):not([disabled]):not(.disabled) {
    background-color: var(--color-foreground-critical-on-surface);
    border-color: var(--color-foreground-critical-on-surface);
    box-shadow: var(--shadow-surface-low);
  }
  
  /* Active */
  &:active:not(:disabled):not([disabled]):not(.disabled) {
    background-color: var(--color-red-400);
    border-color: var(--color-red-400);
    box-shadow: var(--shadow-inset);
  }
  
  /* Focus */
  &:focus-visible {
    outline-color: var(--color-focus-critical-external);
  }
}

/* --- 18.8 Button Link (Text Button) --- */
.btn-link {
  /* Colors */
  background-color: transparent;
  color: var(--color-foreground-action);
  border: none;
  text-decoration: underline;
  text-decoration-color: transparent;
  text-underline-offset: 2px;
  
  /* Layout */
  padding: var(--space-02) var(--space-03);
  min-height: auto;
  min-width: auto;
  
  /* Hover */
  &:hover:not(:disabled):not([disabled]):not(.disabled) {
    color: var(--color-foreground-action-hover);
    text-decoration-color: var(--color-foreground-action-hover);
    background-color: transparent;
  }
  
  /* Active */
  &:active:not(:disabled):not([disabled]):not(.disabled) {
    color: var(--color-foreground-action-active);
  }
  
  /* Focus */
  &:focus-visible {
    outline-color: var(--color-focus-action-external);
    text-decoration: none;
    border-radius: var(--border-radius-small);
  }
}

/* --- 18.9 Button Group Container --- */
.button-group {
  display: flex;
  gap: var(--space-3);
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  margin: var(--space-06) 0;
}

/* --- 18.10 Header Action Buttons (Icon Buttons) --- */
.header-action-btn {
  /* Sizing - Square 44x44 for accessibility */
  width: 44px;
  height: 44px;
  min-width: 44px;
  min-height: 44px;
  padding: 0;
  
  /* Colors */
  background-color: transparent;
  color: var(--color-foreground-primary);
  border: 1px solid var(--color-border-primary);
  border-radius: var(--border-radius-medium);
  
  /* Display */
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  
  /* SVG centering and styling */
  svg {
    display: block;
    flex-shrink: 0;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
    stroke-linecap: round;
    stroke-linejoin: round;
    margin: auto;
  }
  
  /* Ensure use element inherits dimensions */
  svg use {
    width: 100%;
    height: 100%;
  }
  
  /* GitHub icon needs fill instead of stroke */
  svg use[href*="icon-github"] {
    fill: currentColor;
    stroke: none;
  }
  
  /* Hover */
  &:hover:not(:disabled):not([disabled]):not(.disabled) {
    background-color: var(--color-surface-interactive-hover);
    border-color: var(--color-border-strong);
    color: var(--color-foreground-strong);
    box-shadow: var(--shadow-surface-base);
  }
  
  /* Active */
  &:active:not(:disabled):not([disabled]):not(.disabled) {
    background-color: var(--color-surface-interactive-active);
    box-shadow: var(--shadow-inset);
  }
  
  /* Focus */
  &:focus-visible {
    outline-color: var(--color-focus-action-external);
  }
}

/* --- 18.10.1 Language Switcher Dropdown --- */
.language-switcher {
  position: relative;
}

.language-switcher .header-action-btn {
  min-width: 44px;
  width: 44px;
  padding: 0;
}

.language-label {
  font-size: var(--font-size-body-200);
  font-weight: var(--font-weight-medium);
  white-space: nowrap;
}

.language-switcher .dropdown-menu {
  position: absolute;
  top: calc(100% + var(--space-2));
  right: 0;
  min-width: 160px;
  background: var(--color-surface-primary);
  border: 1px solid var(--color-border-primary);
  border-radius: var(--border-radius-medium);
  box-shadow: var(--shadow-surface-mid);
  padding: var(--space-2) 0;
  z-index: 1000;
}

.language-switcher .dropdown-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-2) var(--space-4);
  color: var(--color-foreground-primary);
  text-decoration: none;
  transition: background-color var(--transition-fast), color var(--transition-fast);
  cursor: pointer;
}

.language-switcher .dropdown-item:hover {
  background-color: var(--color-surface-interactive-hover);
  color: var(--color-neutral-700);
}

.language-switcher .dropdown-item:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: -2px;
}

.language-switcher .dropdown-item.active {
  font-weight: var(--font-weight-semibold);
  /* No background - has checkmark */
}

.language-check {
  margin-left: var(--space-2);
  color: var(--color-accent);
  font-weight: var(--font-weight-bold);
}

/* --- 18.10 Code Copy Button --- */
/* Moved to SECTION 20: COMPONENTS - CODE BLOCKS */

/* --- 18.11 Scroll to Top Button --- */
.scroll-to-top {
  position: fixed;
  bottom: calc(var(--space-8) + var(--space-6));
  right: var(--space-5);
  width: 44px;
  height: 44px;
  min-width: 44px;
  min-height: 44px;
  padding: 0;
  
  /* Colors */
  background-color: var(--color-foreground-action);
  color: var(--color-foreground-high-contrast);
  border: none;
  border-radius: 50%;
  
  /* Display */
  display: none;
  align-items: center;
  justify-content: center;
  
  /* Shadow */
  box-shadow: var(--shadow-mid);
  
  /* Transition - only opacity for accessibility */
  opacity: 0;
  transition: opacity var(--transition-normal), background-color var(--transition-normal), box-shadow var(--transition-normal);
}

/* Visible state */
.scroll-to-top.show {
  display: flex;
  opacity: 1;
}

/* Hover - no movement, only color/shadow changes for accessibility */
.scroll-to-top:hover:not(:disabled):not([disabled]):not(.disabled) {
  background-color: var(--color-foreground-action-hover);
  box-shadow: var(--shadow-high);
}

/* Active */
.scroll-to-top:active:not(:disabled):not([disabled]):not(.disabled) {
  box-shadow: var(--shadow-mid);
}

/* Focus */
.scroll-to-top:focus-visible {
  outline-color: var(--color-focus-action-external);
}


/* --- 18.12 Pagination Component (Previous/Next Navigation) --- */
/* Uses grid-2 for simple two-column layout */
.pagination {
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid var(--color-border-primary);
}

/* Grid layout for pagination links */
.pagination > .grid-2 {
  gap: var(--space-4);
}

/* Pagination link - extends card link styles */
.pagination-link {
  /* Base card styles */
  display: flex;
  align-items: center;
  gap: var(--space-4);
  padding: var(--space-5) var(--space-6);
  background: var(--color-surface-primary);
  border: 1px solid var(--color-border-primary);
  border-radius: var(--border-radius-medium);
  box-shadow: var(--shadow-mid);
  
  /* Link behavior */
  color: inherit;
  text-decoration: none;
  transition: box-shadow var(--transition-normal), border-color var(--transition-normal);
  
  /* Layout */
  min-height: 80px;
}

/* Hover state - matches a.card hover */
.pagination-link:hover {
  text-decoration: none;
  border-color: var(--color-border-strong);
  box-shadow: var(--shadow-high);
}

/* Focus state */
.pagination-link:focus-visible {
  outline: 2px solid var(--color-focus-action-external);
  outline-offset: 2px;
}

/* Direction-specific alignment */
.pagination-prev {
  justify-content: flex-start;
}

.pagination-prev .pagination-text {
  text-align: left;
}

.pagination-next {
  justify-content: flex-end;
}

.pagination-next .pagination-text {
  text-align: right;
}

/* Icon styling */
.pagination-icon {
  flex-shrink: 0;
  width: 24px;
  height: 24px;
  color: var(--color-foreground-action);
}

/* Text container */
.pagination-text {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  min-width: 0;
  flex: 1;
}

/* Label (Previous/Next) */
.pagination-label {
  font-size: var(--font-size-body-100);
  font-weight: var(--font-weight-semibold);
  color: var(--color-foreground-strong);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* Page title */
.pagination-title {
  font-size: var(--font-size-body-200);
  font-weight: var(--font-weight-medium);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Spacer for single-sided pagination */
.pagination-spacer {
  grid-column: auto;
}

/* Print: hide pagination */
@media print {
  .pagination {
    display: none;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .pagination-link {
    transition: none;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .pagination-link {
    border-width: 2px;
  }
  
  .pagination-link:focus {
    outline-width: 3px;
  }
}

/* --- 18.13 Tabs Component --- */

/* Tabs Container - Clean and minimal */
.tabs-container {
  margin: var(--space-8) 0;
  background-color: transparent;
}

/* Tabs Header - Simple border bottom */
.tabs-header {
  display: flex;
  gap: 0;
  overflow-x: auto;
  overflow-y: hidden;
  scrollbar-width: none;
  -webkit-overflow-scrolling: touch;
  margin-bottom: var(--space-6);
}

/* Hide scrollbar completely for clean look */
.tabs-header::-webkit-scrollbar {
  display: none;
}

/* Tab Button - Minimal and elegant */
.tab-button {
  /* Reset */
  appearance: none;
  -webkit-appearance: none;
  background: none;
  border: none;
  
  /* Sizing */
  min-height: 44px;
  padding: var(--space-3) var(--space-5);
  flex-shrink: 0;
  
  /* Spacing - Right margin for all except last */
  margin: 0 var(--space-4) 0 0;
  
  /* Colors - Readable text */
  color: var(--color-foreground-strong);
  background-color: transparent;
  border-bottom: 3px solid transparent;
  
  /* Typography */
  font-size: var(--font-size-body-300);
  font-weight: var(--font-weight-regular);
  font-family: var(--font-family-sans);
  text-align: center;
  white-space: nowrap;
  letter-spacing: -0.01em;
  
  /* Display */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  user-select: none;
  position: relative;
  
  /* Transition - Smooth and fast */
  transition: color var(--duration-fast-02) var(--easing-standard-productive),
              border-color var(--duration-fast-02) var(--easing-standard-productive);
}

/* First tab button - No left padding for alignment */
.tab-button:first-child {
  padding-left: 0;
}

/* Remove margin from last tab button */
.tab-button:last-child {
  margin-right: 0;
}

/* Tab Button - Hover */
.tab-button:hover:not(.active):not([aria-selected="true"]) {
  border-bottom-color: var(--color-foreground-action-hover);
}

/* Tab Button - Active State */
.tab-button.active,
.tab-button[aria-selected="true"] {
  color: var(--color-foreground-action-active);
  border-bottom-color: var(--color-foreground-action-hover);
  border-bottom-width: 3px;
}

/* Tab Button - Focus (minimal outline) */
.tab-button:focus-visible {
  outline: 2px solid var(--color-focus-action-external);
  outline-offset: 2px;
  border-radius: var(--border-radius-x-small);
}

/* Tab Button - Disabled */
.tab-button:disabled,
.tab-button[disabled] {
  opacity: 0.4;
  cursor: not-allowed;
}

/* Tab Panel - Clean content area */
.tab-panel {
  display: none;
  animation: tabFadeIn 200ms ease-out;
}

/* Tab Panel - Active State */
.tab-panel.active,
.tab-panel[aria-hidden="false"] {
  display: block;
}

/* Tab Panel Animation - Subtle fade */
@keyframes tabFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Tab Panel - Content Spacing */
.tab-panel > *:first-child {
  margin-top: 0;
}

.tab-panel > *:last-child {
  margin-bottom: 0;
}


/* Print - Show all tabs */
@media print {
  .tabs-header {
    display: none;
  }
  
  .tab-panel {
    display: block !important;
    page-break-inside: avoid;
    margin-top: var(--space-4);
    padding-top: var(--space-4);
    border-top: 1px solid #e0e0e0;
  }
  
  .tab-panel:first-of-type {
    border-top: none;
    margin-top: 0;
    padding-top: 0;
  }
  
  .tab-panel::before {
    content: attr(aria-label);
    display: block;
    font-weight: var(--font-weight-semibold);
    margin-bottom: var(--space-3);
    color: var(--color-foreground-strong);
    font-size: var(--font-size-body-200);
  }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .tab-panel {
    animation: none;
  }
  
  .tab-button {
    transition: none;
  }
}

/* ============================================
   SECTION 19: COMPONENTS - BREADCRUMB
   ============================================ */

.breadcrumb {
  margin-bottom: var(--space-4);
  margin-left: 0;
  padding-left: 0;
  margin-top: 0;
  font-size: var(--font-size-body-100);
}

.breadcrumb-list {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  list-style: none;
  gap: var(--space-2);
  font-size: var(--font-size-body-100);
  font-weight: var(--font-weight-medium);
  margin: 0;
  padding: 0;
}

.breadcrumb-item {
  color: var(--color-foreground-faint);
  white-space: nowrap;
  margin: 0;
  padding: 0;
}

.breadcrumb-item a {
  color: var(--color-foreground-faint);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.breadcrumb-item a:hover {
  color: var(--color-foreground-faint);
  text-decoration: underline;
}

.breadcrumb-item.current {
  color: var(--color-foreground-strong);
}

.breadcrumb-separator {
  color: var(--color-foreground-faint);
  margin: 0 var(--space-1);
}

/* ============================================
   SECTION 20: COMPONENTS - CODE BLOCKS
   ============================================ */

.code-block {
  position: relative;
  margin: var(--space-6) 0;
  border-radius: var(--border-radius-medium);
  background: #0D0E12;
  border: 1px solid rgba(255, 255, 255, 0.1);
  overflow: hidden;
}

.code-copy {
  /* Positioning - Top right corner */
  position: absolute;
  top: var(--space-3);
  right: var(--space-3);
  z-index: 10;
  
  /* Sizing */
  width: 36px;
  height: 36px;
  min-width: 36px;
  min-height: 36px;
  padding: 0;
  
  /* Display */
  display: flex;
  align-items: center;
  justify-content: center;
  
  /* Colors - Subtle on dark background */
  background-color: rgba(255, 255, 255, 0.05);
  color: rgba(255, 255, 255, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: var(--border-radius-small);
  
  /* Interaction */
  cursor: pointer;
  transition: all var(--transition-fast);
}

.code-copy:hover {
  background-color: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.9);
}

.code-copy:active {
  background-color: rgba(255, 255, 255, 0.15);
  transform: scale(0.95);
}

.code-copy:focus-visible {
  outline: 2px solid rgba(16, 96, 255, 0.5);
  outline-offset: 2px;
}

.code-copy svg {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}

.code-block pre {
  margin: 0;
  padding: var(--space-4);
  padding-right: calc(var(--space-4) + 48px); /* Extra padding for copy button */
  overflow-x: auto;
  background: transparent;
  font-family: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace;
  font-size: var(--font-size-code-100); /* 13px - optimal for code readability */
  line-height: var(--line-height-relaxed);
  letter-spacing: 0.01em; /* Subtle spacing for better character distinction */
  color: #e3e3e3; /* Default color for all text */
}

.code-block code {
  font-family: inherit;
  font-size: inherit;
  background: transparent;
  padding: 0;
  border-radius: 0;
  color: inherit; /* Inherit from pre */
}

/* ============================================
   CUSTOM SYNTAX HIGHLIGHTING - Optimized for #0D0E12
   Complete palette with maximum contrast
   ============================================ */

/* Base styles */
.code-block .hljs {
  background: transparent;
  color: #e3e3e3; /* Base text - very light gray */
}

/* Comments & Documentation */
.code-block .hljs-comment,
.code-block .hljs-quote,
.code-block .hljs-meta {
  color: #9ca3af; /* Light gray - WCAG AA compliant (4.5:1 contrast) */
  font-style: normal; /* Keep monospace upright for better legibility */
  font-weight: 400;
  font-family: inherit;
}

/* Keywords & Control Flow */
.code-block .hljs-keyword,
.code-block .hljs-selector-tag,
.code-block .hljs-literal,
.code-block .hljs-type {
  color: #e879f9; /* Bright magenta/purple */
  font-weight: 500;
}

/* Strings & Text */
.code-block .hljs-string,
.code-block .hljs-regexp,
.code-block .hljs-addition,
.code-block .hljs-template-literal {
  color: #a3e635; /* Bright lime green */
}

/* Numbers & Constants */
.code-block .hljs-number,
.code-block .hljs-built_in,
.code-block .hljs-builtin-name {
  color: #fbbf24; /* Bright amber/gold */
}

/* Functions & Methods */
.code-block .hljs-title,
.code-block .hljs-function,
.code-block .hljs-title.function_,
.code-block .hljs-title.class_,
.code-block .hljs-class .hljs-title {
  color: #7dd3fc; /* Sky blue - WCAG AA compliant (4.5:1 contrast on #0D0E12) */
  font-weight: 500;
}

/* Variables & Properties */
.code-block .hljs-variable,
.code-block .hljs-name,
.code-block .hljs-property,
.code-block .hljs-attr {
  color: #fb923c; /* Bright orange */
}

/* Tags & Selectors */
.code-block .hljs-tag,
.code-block .hljs-selector-id,
.code-block .hljs-selector-class,
.code-block .hljs-selector-attr,
.code-block .hljs-selector-pseudo {
  color: #34d399; /* Bright emerald */
}

/* Operators & Punctuation */
.code-block .hljs-operator,
.code-block .hljs-punctuation {
  color: #c4c4c4; /* Light gray */
}

/* Special & Emphasis */
.code-block .hljs-symbol,
.code-block .hljs-bullet,
.code-block .hljs-link,
.code-block .hljs-params {
  color: #f472b6; /* Bright pink */
}

/* Attributes & Metadata */
.code-block .hljs-attribute,
.code-block .hljs-section,
.code-block .hljs-doctag {
  color: #818cf8; /* Bright indigo */
}

/* Deletion & Errors */
.code-block .hljs-deletion,
.code-block .hljs-formula {
  color: #f87171; /* Bright red */
}

/* Emphasis & Strong */
.code-block .hljs-emphasis {
  font-style: italic;
}

.code-block .hljs-strong {
  font-weight: 700;
}

/* Links */
.code-block .hljs-link {
  text-decoration: underline;
}

/* Inline code (not in pre) */
code:not(pre code) {
  background: var(--color-surface-strong);
  color: var(--color-foreground-primary);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--border-radius-small);
  font-family: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace;
  font-size: 0.9em;
  font-weight: var(--font-weight-medium);
}

/* ============================================================================
   CSS RESET - Minimal & Safe
   ============================================================================ */

/* Box Model Reset */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* HTML Base */
html {
  scroll-behavior: smooth;
  scroll-padding-top: var(--header-height);
}

/* Scrollbar Styling - Light Mode */
:root {
  scrollbar-width: thin;
  scrollbar-color: var(--color-neutral-300) var(--color-neutral-100);
}

/* Webkit Scrollbar (Chrome, Safari, Edge) */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: var(--color-neutral-100);
}

::-webkit-scrollbar-thumb {
  background: var(--color-neutral-300);
  border-radius: 6px;
  border: 2px solid var(--color-neutral-100);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-neutral-400);
}

/* Body Base */
body {
  font-family: var(--font-family-sans);
  font-size: var(--font-size-body-300);
  line-height: var(--line-height-relaxed);
  letter-spacing: var(--letter-spacing-normal);
  color: var(--color-foreground-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: flex;
  flex-direction: column;
  margin: 0;
  padding: 0;
}

/* Browser-specific input resets */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  -moz-appearance: textfield;
  appearance: textfield;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Button base styles moved to SECTION 18: COMPONENTS - BUTTONS */

/* ============================================================================
   LAYOUT STRUCTURE - Grid-based responsive layout
   ============================================================================ */

/**
 * Main Layout Container
 * Uses CSS Grid for robust sidebar + content layout
 * Prevents content from going under sidebar
 */
.layout {
  display: grid;
  grid-template-columns: var(--sidebar-width) 1fr;
  min-height: calc(100vh - var(--header-height));
  position: relative;
}

/**
 * Layout with TOC (3-column)
 * Sidebar (left) + Content (center) + TOC (right)
 */
.layout-with-toc {
  grid-template-columns: var(--sidebar-width) 1fr 240px;
}

/**
 * Layout without sidebar (optional sidebar feature)
 * Single column layout when hide_sidebar: true in frontmatter
 * Perfect for landing pages, simple sites, or full-width content
 */
.layout.no-sidebar {
  grid-template-columns: 1fr;
}

/**
 * Layout with TOC but no sidebar
 * 2-column layout: Content (left) + TOC (right)
 */
.layout-with-toc.no-sidebar {
  grid-template-columns: 1fr 240px;
}

/**
 * Mobile-only sidebar (for pages with hide_sidebar)
 * Hidden on desktop, visible on mobile for navigation
 */
.sidebar.mobile-only {
  display: none;
}

/**
 * Main Content Area
 * Grid item that takes remaining space
 * Padding-top matches header height for alignment with sidebar
 * Symmetric padding for better readability
 */
.main-content {
  contain: layout;
  padding: var(--space-8);
  padding-top: var(--header-height);
  max-width: 100%;
  overflow-x: hidden;
}

/* More breathing room in 3-column layout (sidebar + content + TOC) */
.layout-with-toc .main-content {
  padding-left: var(--space-12);
  padding-right: var(--space-12);
}

/**
 * Content Container
 * Centers content with max-width for readability
 */
.content-container {
  max-width: 900px;
  margin: 0 auto;
  width: 100%;
  padding-top: var(--space-8);
}

/* ============================================================================
   BASE TYPOGRAPHY & ELEMENTS
   ============================================================================ */
h1 {
  font-size: var(--font-size-display-500);
  font-weight: var(--font-weight-bold);
  line-height: var(--line-height-tight);
  letter-spacing: var(--letter-spacing-tight);
  color: var(--color-foreground-strong);
}

h2 {
  font-size: var(--font-size-display-400);
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-tight);
  letter-spacing: var(--letter-spacing-tight);
  color: var(--color-foreground-strong);
}

h3 {
  font-size: var(--font-size-display-300);
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-tight);
  letter-spacing: var(--letter-spacing-normal);
  color: var(--color-foreground-strong);
}

h4 {
  font-size: var(--font-size-display-300);
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-normal);
  letter-spacing: var(--letter-spacing-normal);
  color: var(--color-foreground-strong);
}

h5 {
  font-size: var(--font-size-display-300);
  font-weight: var(--font-weight-medium);
  line-height: var(--line-height-normal);
  letter-spacing: var(--letter-spacing-normal);
  color: var(--color-foreground-strong);
}

h6 {
  font-size: var(--font-size-display-300);
  font-weight: var(--font-weight-medium);
  line-height: var(--line-height-normal);
  letter-spacing: var(--letter-spacing-normal);
  color: var(--color-foreground-strong);
}

/* --- 3.2 Body Text --- */

p {
  font-size: var(--font-size-body-300); /* 16px - easier to read */
  line-height: var(--line-height-relaxed);
  color: var(--color-foreground-primary); /* Darker for better readability */
  margin-bottom: var(--space-md);
}

/* Horizontal Rule */
hr {
  border: 0;
  border-top: 1px solid var(--color-border-primary);
  margin: var(--space-6) 0;
}

.content img {
  display: block;
  max-width: 100%;
  height: auto;
  margin: var(--space-6) auto;
  border-radius: var(--border-radius-medium);
  box-shadow: var(--shadow-sm);
}

.content p img {
  margin: var(--space-4) auto;
}

.page-title,
.subpage-title {
  font-family: var(--font-heading, var(--font-family-sans));
  font-size: var(--font-size-4xl);
  font-weight: var(--font-weight-bold);
  color: var(--color-foreground-primary);
  margin-bottom: var(--space-4);
  line-height: var(--line-height-tight);
  letter-spacing: var(--letter-spacing-tight);
}
.page-description {
  font-size: var(--font-size-display-300);
  color: var(--color-foreground-primary);
  line-height: var(--line-height-relaxed);
}

.content {
  position: relative;
}
.content h2 {
  font-family: var(--font-heading, var(--font-family-sans));
  font-size: var(--font-size-2xl);
  margin-bottom: var(--space-4);
  padding-top: var(--space-4);
}
.content h3 {
  font-family: var(--font-heading, var(--font-family-sans));
  font-size: var(--font-size-xl);
  margin-bottom: var(--space-3);
  margin-top: var(--space-6);
}
.content h4,
.content h5,
.content h6 {
  font-family: var(--font-heading, var(--font-family-sans));
  font-size: var(--font-size-display-300);
  margin-bottom: var(--space-2);
  margin-top: var(--space-4);
}

.content p {
  margin-bottom: var(--space-4);
  /* Inherit from body (foreground-strong) for better accessibility */
}
.content a {
  color: var(--color-accent);
  text-decoration: none;
  font-weight: var(--font-weight-medium);
  border-bottom: 1px solid transparent;
  transition: all var(--transition-fast);
}
.content a:hover {
  color: var(--color-accent-hover);
  border-bottom-color: var(--color-accent);
}
.content ul,
.content ol {
  margin-bottom: var(--space-4);
  padding-left: var(--space-6);
}
.content li {
  margin-bottom: var(--space-2);
  /* Inherit from body (foreground-strong) for better accessibility */
}

/* Tables - Same style as code blocks */
.content table {
  width: 100%;
  margin: var(--space-6) 0;
  border-collapse: separate;
  border-spacing: 0;
  font-size: var(--font-size-body-200);
  line-height: var(--line-height-normal);
  background: var(--color-surface-primary);
  border: 1px solid var(--color-border-primary);
  border-radius: var(--border-radius-medium);
  overflow: hidden;
}

.content table thead {
  background-color: var(--color-surface-faint);
  border-bottom: 1px solid var(--color-border-primary);
}

.content table th {
  padding: var(--space-3) var(--space-4);
  text-align: left;
  font-weight: var(--font-weight-semibold);
  color: var(--color-foreground-strong);
  border-right: 1px solid var(--color-border-primary);
}

.content table th:last-child {
  border-right: none;
}

.content table tbody tr {
  background-color: transparent;
}

.content table tbody tr:nth-child(even) {
  background-color: var(--color-surface-faint);
}

.content table td {
  padding: var(--space-3) var(--space-4);
  border-top: 1px solid var(--color-border-primary);
  border-right: 1px solid var(--color-border-primary);
  color: var(--color-foreground-strong);
}

.content table td:last-child {
  border-right: none;
}

/* Abbreviations */
.content abbr {
  text-decoration: underline dotted;
  text-decoration-color: var(--color-foreground-primary);
  text-underline-offset: 3px;
  cursor: help;
}

.content abbr[title] {
  border-bottom: none;
}

/* Definition Lists */
.content dl {
  margin: var(--space-6) 0;
}

.content dt {
  font-weight: var(--font-weight-semibold);
  color: var(--color-foreground-strong);
  margin-top: var(--space-4);
  margin-bottom: var(--space-2);
}

.content dt:first-child {
  margin-top: 0;
}

.content dd {
  margin-left: var(--space-6);
  margin-bottom: var(--space-3);
  color: var(--color-foreground-primary);
  line-height: var(--line-height-relaxed);
}

.content dd:last-child {
  margin-bottom: 0;
}

/* Footnotes */
.content .footnote-ref {
  font-size: 0.75em;
  vertical-align: super;
  text-decoration: none;
  color: var(--color-foreground-action);
  font-weight: var(--font-weight-semibold);
  padding: 0 2px;
}

.content .footnote-ref:hover {
  color: var(--color-foreground-action-hover);
}

.content .footnotes {
  margin-top: var(--space-8);
  padding-top: var(--space-6);
  border-top: 2px solid var(--color-border-primary);
  font-size: var(--font-size-body-200);
}

.content .footnotes ol {
  padding-left: var(--space-6);
}

.content .footnotes li {
  margin-bottom: var(--space-3);
  color: var(--color-foreground-primary);
}

.content .footnote-backref {
  text-decoration: none;
  color: var(--color-foreground-action);
  margin-left: var(--space-2);
  font-size: 0.9em;
}

.content .footnote-backref:hover {
  color: var(--color-foreground-action-hover);
}

/* Blockquotes - Simple and clean */
.content blockquote {
  margin: var(--space-6) 0;
  padding: var(--space-4) var(--space-6);
  border-left: 4px solid var(--color-foreground-strong);
  background: var(--color-surface-faint);
  color: var(--color-foreground-primary);
  font-size: var(--font-size-body-200);
  line-height: var(--line-height-relaxed);
}

.content blockquote p {
  margin: 0;
}

.content blockquote p + p {
  margin-top: var(--space-4);
}

.content blockquote cite,
.content blockquote footer {
  display: block;
  margin-top: var(--space-3);
  font-size: var(--font-size-body-100);
  color: var(--color-foreground-primary);
  font-style: normal;
}

.content blockquote cite::before {
  content: " ";
}

/* Blockquote variants - use classes for colored variants */
/* Usage: <blockquote class="note"> or <blockquote class="warning"> */

/* Note / Info - Blue (vivid) */
.content blockquote.note,
.content blockquote.info {
  border-left-color: var(--color-blue-300);
  background: var(--color-blue-100);
}

.content blockquote.note p,
.content blockquote.info p,
.content blockquote.note ul li,
.content blockquote.info ul li,
.content blockquote.note ol li,
.content blockquote.info ol li {
  color: var(--color-blue-500);
}

/* Warning - Orange (vivid) */
.content blockquote.warning {
  border-left-color: var(--color-foreground-warning);
  background: var(--color-amber-100);
}

.content blockquote.warning p,
.content blockquote.warning ul li,
.content blockquote.warning ol li {
  color: var(--color-foreground-warning-high-contrast);
}

/* Success / Tip - Green (vivid) */
.content blockquote.success,
.content blockquote.tip {
  border-left-color: var(--color-foreground-success);
  background: var(--color-green-100);
}

.content blockquote.success p,
.content blockquote.tip p,
.content blockquote.success ul li,
.content blockquote.tip ul li,
.content blockquote.success ol li,
.content blockquote.tip ol li {
  color: var(--color-foreground-success-high-contrast);
}

/* Error / Danger - Red (vivid) */
.content blockquote.error,
.content blockquote.danger,
.content blockquote.important {
  border-left-color: var(--color-foreground-critical);
  background: var(--color-red-100);
}

.content blockquote.error p,
.content blockquote.danger p,
.content blockquote.important p,
.content blockquote.error ul li,
.content blockquote.danger ul li,
.content blockquote.important ul li,
.content blockquote.error ol li,
.content blockquote.danger ol li,
.content blockquote.important ol li {
  color: var(--color-foreground-critical-high-contrast);
}

/* Info Boxes - Dismissible alerts */
.info-box {
  position: relative;
  margin: var(--space-6) 0;
  padding: var(--space-4) var(--space-6);
  padding-right: 60px; /* Space for 44px button + margin */
  border-left: 4px solid var(--color-foreground-strong);
  border-radius: var(--border-radius-medium);
  background: var(--color-surface-faint);
  color: var(--color-foreground-primary);
  font-size: var(--font-size-body-200);
  line-height: var(--line-height-relaxed);
  transition: opacity var(--transition-normal), transform var(--transition-normal);
}

.info-box strong:first-child {
  display: block;
  margin-bottom: var(--space-2);
  font-weight: var(--font-weight-semibold);
}

.info-box p {
  margin: 0;
}

.info-box p + p {
  margin-top: var(--space-3);
}

/* Close button - WCAG 2.1 compliant 44x44px touch target */
.info-box-close {
  position: absolute;
  top: 0;
  right: 0;
  width: 44px;
  height: 44px;
  padding: 0;
  background: transparent;
  border: none;
  border-radius: var(--border-radius-small);
  color: var(--color-foreground-faint);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all var(--transition-fast);
}

.info-box-close:hover {
  background: rgba(0, 0, 0, 0.1);
  color: var(--color-foreground-strong);
}

.info-box-close:focus-visible {
  outline: 2px solid var(--color-foreground-strong);
  outline-offset: 2px;
}

/* Dismissing animation */
.info-box.dismissing {
  opacity: 0;
  transform: translateX(20px);
}

/* Info Box variants */
.info-box-info {
  border-left-color: var(--color-blue-300);
  background: var(--color-blue-100);
  color: var(--color-blue-500);
}

.info-box-warning {
  border-left-color: var(--color-foreground-warning);
  background: var(--color-amber-100);
  color: var(--color-foreground-warning-high-contrast);
}

.info-box-success {
  border-left-color: var(--color-foreground-success);
  background: var(--color-green-100);
  color: var(--color-foreground-success-high-contrast);
}

.info-box-error {
  border-left-color: var(--color-foreground-critical);
  background: var(--color-red-100);
  color: var(--color-foreground-critical-high-contrast);
}

.info-box-tip {
  border-left-color: var(--color-foreground-success);
  background: var(--color-green-100);
  color: var(--color-foreground-success-high-contrast);
}

/* ============================================================================
   CARD SYSTEM - Flexible & DRY
   ============================================================================ */

/* Card Base */
.card {
  display: flex;
  flex-direction: column;
  padding: var(--space-6);
  background: var(--color-surface-primary);
  border: 1px solid var(--color-border-primary);
  border-radius: var(--border-radius-medium);
  transition: all var(--transition-normal);
  text-decoration: none;
  color: inherit;
}

/* Card as link - only links get hover effect */
a.card {
  cursor: pointer;
  display: flex !important;
  flex-direction: column !important;
  font-weight: inherit !important;
  border: 1px solid var(--color-border-primary) !important;
  box-shadow: var(--shadow-mid);
  transition: box-shadow var(--transition-normal), border-color var(--transition-normal);
}

a.card:hover {
  text-decoration: none;
  border-color: var(--color-border-strong) !important;
  box-shadow: var(--shadow-high);
}

/* Card Icon - SVG sprite or inline */
.card-icon {
  width: 48px;
  height: 48px;
  margin-bottom: var(--space-4);
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-surface-faint);
  border-radius: var(--border-radius-medium);
  color: var(--color-foreground-action);
}

.card-icon svg {
  width: 24px;
  height: 24px;
  stroke: currentColor;
  fill: none;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* Card Icon - Emoji fallback */
.card-icon:not(:has(svg)):not(:has(img)) {
  font-size: 24px;
  line-height: 1;
}

/* Card Image */
.card-image {
  width: 100%;
  height: auto;
  margin-bottom: var(--space-4);
  border-radius: var(--border-radius-small);
  object-fit: cover;
}

/* Card Title */
.card-title {
  margin: 0 0 var(--space-2) 0;
  font-size: var(--font-size-heading-400);
  font-weight: var(--font-weight-semibold);
  color: var(--color-foreground-strong);
}

/* Card Text */
.card-text {
  margin: 0;
  font-size: var(--font-size-body-200);
  line-height: var(--line-height-relaxed);
  color: var(--color-foreground-primary);
  flex-grow: 1;
}

/* Card Footer (optional) */
.card-footer {
  margin-top: var(--space-4);
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-border-primary);
  font-size: var(--font-size-body-100);
  color: var(--color-foreground-primary);
}

/* Card Variants */

/* Bordered - More prominent border */
.card-bordered {
  border-width: 2px;
}

a.card.card-bordered {
  border-width: 2px !important;
}

/* Primary - Accent color */
.card-primary {
  border-color: var(--color-foreground-action);
}

.card-primary .card-icon {
  background: var(--color-foreground-action);
  color: var(--color-foreground-high-contrast);
}

/* Horizontal Layout */
.card-horizontal {
  flex-direction: row;
  align-items: flex-start;
  gap: var(--space-4);
}

.card-horizontal .card-icon,
.card-horizontal .card-image {
  flex-shrink: 0;
  margin-bottom: 0;
}

.card-horizontal .card-image {
  width: 120px;
  height: 120px;
}

/* Centered content */
.card-centered {
  text-align: center;
  align-items: center;
}

.card-centered .card-icon {
  margin-left: auto;
  margin-right: auto;
}

/* No hover effect */
.card-static:hover {
  box-shadow: none;
  border-color: var(--color-border-primary);
}



/* ============================================================================
   BADGE SYSTEM - Simple & Elegant
   ============================================================================ */

/* Badge Base */
.badge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: 4px 12px;
  margin-right: var(--space-2);
  font-size: 11px;
  font-weight: var(--font-weight-medium);
  line-height: 1;
  border-radius: var(--border-radius-medium);
  background: var(--color-surface-strong);
  color: var(--color-foreground-primary);
  white-space: nowrap;
  vertical-align: middle;
}

/* Badge Colors */
.badge-info {
  background: var(--color-blue-100);
  color: var(--color-blue-500);
}

.badge-success {
  background: var(--color-green-100);
  color: var(--color-foreground-success-high-contrast);
}

.badge-warning {
  background: var(--color-amber-100);
  color: var(--color-foreground-warning-high-contrast);
}

.badge-error {
  background: var(--color-red-100);
  color: var(--color-foreground-critical-high-contrast);
}

.badge-primary {
  background: var(--color-foreground-action);
  color: var(--color-foreground-high-contrast);
}

/* Badge Sizes */
.badge-sm {
  padding: 2px 10px;
  font-size: 10px;
}

.badge-lg {
  padding: 6px 16px;
  font-size: var(--font-size-body-200);
}

/* Badge Outline Style */
.badge-outline {
  background: transparent;
  border: 2px solid currentColor;
}

.badge-outline.badge-info {
  color: var(--color-blue-300);
  background: transparent;
}

.badge-outline.badge-success {
  color: var(--color-foreground-success);
  background: transparent;
}

.badge-outline.badge-warning {
  color: var(--color-foreground-warning);
  background: transparent;
}

.badge-outline.badge-error {
  color: var(--color-foreground-critical);
  background: transparent;
}

/* Badge with Dot Indicator */
.badge-dot::before {
  content: '';
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: currentColor;
}

/* Badge Group */
.badge-group {
  display: inline-flex;
  gap: var(--space-2);
  flex-wrap: wrap;
  align-items: center;
}

.content code:not(pre code) {
  background: var(--color-surface-strong);
  color: var(--color-foreground-primary);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--border-radius-small);
  font-family: "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace;
  font-size: var(--font-size-body-200);
}

.content kbd {
  display: inline-block;
  padding: var(--space-1) var(--space-2);
  font-size: var(--font-size-body-100);
  font-family: var(--font-family-sans);
  line-height: 1;
  color: var(--color-foreground-primary);
  background: var(--color-surface-strong);
  border: 1px solid var(--color-border-primary);
  border-radius: var(--border-radius-small);
  box-shadow: 0 1px 0 var(--color-border-secondary);
}

.accordion {
  width: 100%;
}
.accordion-item {
  border: 1px solid var(--color-border-secondary);
  border-radius: var(--border-radius-medium);
  margin-bottom: var(--space-3);
  overflow: hidden;
  background: var(--color-surface-primary);
  transition: all var(--transition-fast);
}
.accordion-item:hover {
  border-color: var(--color-neutral-400);
  box-shadow: var(--shadow-low);
}
.accordion-item:last-child {
  margin-bottom: 0;
}
.accordion-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: var(--space-4) var(--space-5);
  font-size: var(--font-size-body-300);
  font-weight: var(--font-weight-medium);
  color: var(--color-foreground-strong);
  cursor: pointer;
  user-select: none;
  list-style: none;
}
.accordion-header::-webkit-details-marker {
  display: none;
}
.accordion-header-icon {
  flex-shrink: 0;
  width: 20px;
  height: 20px;
  margin-left: var(--space-3);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.accordion-header-icon svg {
  width: 100%;
  height: 100%;
  stroke: var(--color-foreground-faint);
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
  fill: none;
}
.accordion-content {
  padding: 0 var(--space-5) var(--space-4);
  font-size: var(--font-size-body-300);
  line-height: var(--line-height-relaxed);
  color: var(--color-foreground-strong);
  animation: accordion-slide-down 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.accordion-content > *:first-child {
  margin-top: 0;
}
.accordion-content > *:last-child {
  margin-bottom: 0;
}

details.accordion-item[open] .accordion-header-icon {
  transform: rotate(180deg);
}

.accordion-group .accordion-item {
  border-radius: 0;
  margin-bottom: 0;
  border-bottom: none;
}
.accordion-group .accordion-item:first-child {
  border-top-left-radius: var(--border-radius-medium);
  border-top-right-radius: var(--border-radius-medium);
}
.accordion-group .accordion-item:last-child {
  border-bottom-left-radius: var(--border-radius-medium);
  border-bottom-right-radius: var(--border-radius-medium);
  border-bottom: 1px solid var(--color-border-secondary);
}

.accordion-bordered .accordion-item {
  border: 2px solid var(--color-border-secondary);
}
.accordion-bordered .accordion-item:hover {
  border-color: var(--color-accent);
}

.accordion-filled .accordion-item {
  border: none;
  background: transparent;
}
.accordion-filled .accordion-header {
  background-color: var(--color-surface-strong);
  border-radius: var(--border-radius-medium);
}
.accordion-filled .accordion-header:hover {
  background-color: var(--color-surface-faint);
}
.accordion-filled details[open] .accordion-header {
  background-color: var(--color-accent);
  color: white;
}
.accordion-filled details[open] .accordion-header .accordion-header-icon svg {
  stroke: white;
}
.accordion-filled .accordion-content {
  padding-top: var(--space-3);
  padding-bottom: var(--space-4);
}

.accordion-compact .accordion-header {
  padding: var(--space-3) var(--space-4);
  font-size: var(--font-size-body-200);
}
.accordion-compact .accordion-content {
  padding: 0 var(--space-4) var(--space-3);
  font-size: var(--font-size-body-200);
}

@keyframes accordion-slide-down {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
.header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--header-height);
  background: var(--color-surface-faint);
  z-index: var(--z-index-sticky);
  overflow: visible;
}

/* Ensure header has proper z-index for dropdowns */
.header-container,
.header-left,
.header-nav {
  overflow: visible;
}

.header-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 100%;
  max-width: 100%;
  padding: 0 var(--space-6);
  overflow: visible;
}
.header-left {
  display: flex;
  align-items: center;
}

.logo-img-link {
  display: flex;
  align-items: center;
  text-decoration: none;
}

.logo-img {
  /* Base styles - simple and clean */
  height: 32px;
  width: auto;
}

/* Logo visibility
   HTML mapping: .logo-light = black logo, .logo-dark = white logo
   Light mode: show black logo (.logo-light)
   Dark mode: show white logo (.logo-dark) 
   Single logo: .logo-single always visible (used when only one logo provided) */
.logo-light {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
}

.logo-dark {
  display: none !important;
}

/* Single logo - always visible, doesn't change between themes */
.logo-single {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* ============================================================================
   HEADER LOGO & PROJECT NAME
   Flexible system supporting multiple combinations:
   1. Logo + Name (default) - Both logo images and project name
   2. Logo only - Just logo images, no name
   3. Name only - Just project name text, no logo
   4. Neither - Empty link (edge case)
   ============================================================================ */

.logo-link {
  display: flex;
  align-items: center;
  gap: var(--space-3);  /* Space between logo and name */
  text-decoration: none;
}

/* Project name styling (optional, controlled by {{PROJECT_NAME_SPAN}}) */
/* Branding element - always dark, doesn't change on hover */
.project-name {
  color: var(--neutral-900);
  font-weight: 600;
}

.header-right {
  display: flex;
  align-items: center;
  gap: var(--space-4);
}

.header-nav {
  display: flex;
  gap: var(--space-6);
  margin-left: var(--space-10);
}
.header-nav a {
  display: flex;
  align-items: center;
  color: var(--color-neutral-600);
  text-decoration: none;
  font-weight: var(--font-weight-semibold);
  padding: var(--space-2) 0;
  font-size: var(--font-size-body-200);
  line-height: var(--line-height-compact);
  transition: color var(--transition-fast);
}
.header-nav a:hover,
.header-nav a:focus,
.header-nav a.active {
  color: var(--color-neutral-700);
}

/* Header Navigation Dropdown Menus */
.header-nav-item {
  position: relative;
}

.header-nav-link {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  color: var(--color-neutral-600);
  text-decoration: none;
  font-weight: var(--font-weight-semibold);
  padding: var(--space-2) 0;
  transition: color var(--transition-fast);
  cursor: pointer;
  background: none;
  border: none;
  font-size: var(--font-size-body-200);
  line-height: var(--line-height-compact);
  font-family: inherit;
}

.header-nav-link:hover,
.header-nav-link:focus,
.header-nav-link.active {
  color: var(--color-neutral-700);
}

/* Dropdown arrow icon */
.header-nav-link .dropdown-arrow {
  width: 16px;
  height: 16px;
  transition: transform var(--transition-fast);
}

.header-nav-item.open .header-nav-link .dropdown-arrow {
  transform: rotate(180deg);
}

/* Dropdown menu container */
.header-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 200px;
  margin-top: var(--space-2);
  background: var(--color-surface-primary);
  border: 1px solid var(--color-border-primary);
  border-radius: 0;
  box-shadow: var(--shadow-surface-mid);
  opacity: 0;
  visibility: hidden;
  transform: translateY(-8px);
  transition: opacity var(--transition-base),
              transform var(--transition-base),
              visibility var(--transition-base);
  z-index: 1000;
  padding: var(--space-2) 0;
}

.header-nav-item.open .header-dropdown {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

/* Dropdown items */
.header-dropdown a {
  display: block;
  padding: var(--space-2) var(--space-4);
  color: var(--color-neutral-600);
  text-decoration: none;
  font-size: var(--font-size-body-200);
  font-weight: var(--font-weight-normal);
  transition: background-color var(--transition-fast),
              color var(--transition-fast);
  white-space: nowrap;
}

.header-dropdown a:hover,
.header-dropdown a:focus {
  background-color: var(--color-surface-interactive-hover);
  color: var(--color-neutral-700);
}

.header-dropdown a.active {
  color: var(--color-neutral-700);
  font-weight: var(--font-weight-medium);
  background-color: var(--color-surface-interactive-hover);
}

/* Dropdown divider */
.header-dropdown-divider {
  height: 1px;
  margin: var(--space-1) 0;
  background-color: var(--color-border-secondary);
}

.nav-link {
  color: var(--neutral-600);
  text-decoration: none;
  font-weight: var(--font-weight-medium);
  padding: var(--space-2) 0;
  transition: color var(--transition-fast);
}
.nav-link:hover, .nav-link.active {
  color: var(--neutral-700);
}

.header-actions {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.theme-icon-sun {
  display: block;
}

.mobile-only {
  display: none;
}
.sidebar {
  background: white;
  border-right: 1px solid var(--color-neutral-200);
  height: calc(100vh - var(--header-height));
  overflow-y: auto;
  position: sticky;
  top: var(--header-height);
  transition: transform var(--transition-normal);
}
.sidebar-header {
  display: none;
  padding: var(--space-4);
  border-bottom: 1px solid var(--color-neutral-200);
}
.mobile-header-nav {
  display: none;
  padding: var(--space-6) 0;
  border-bottom: 2px solid var(--color-neutral-200);
  margin-bottom: var(--space-4);
}

.sidebar-nav {
  padding: var(--space-6) 0 var(--space-6) 0;
}

.nav-section {
  margin-bottom: 0;
}
.nav-section:last-child {
  margin-bottom: 0;
}

.nav-section-title {
  color: var(--color-neutral-600);
  text-decoration: none;
  font-size: var(--font-size-body-200);
  font-weight: var(--font-weight-medium);
  letter-spacing: 0.05em;
  padding: var(--space-2) var(--space-6) var(--space-2) var(--space-6);
  margin-bottom: 0;
  display: block;
}

/* Collapsible variant - identical to regular title + flexbox for icon */
.nav-section-title.collapsible {
  /* Inherit ALL styles from .nav-section-title, just override display */
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  cursor: pointer;
  transition: color var(--transition-fast);
}

.nav-section-title.collapsible:hover {
  color: var(--color-neutral-700);
  background: var(--color-surface-interactive-hover);
}

.nav-section-title.collapsible:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
  border-radius: var(--border-radius-small);
}

/* Ensure the text span inside collapsible button doesn't add extra styling */
.nav-section-title-text {
  display: inline;
  margin: 0;
  padding: 0;
}

.nav-section-icon {
  flex-shrink: 0;
  margin-left: var(--space-2);
  transition: transform var(--transition-fast);
  color: currentColor;
}
.nav-section.expanded .nav-section-icon {
  transform: rotate(0deg);
}
.nav-section.expanded .nav-section-title.collapsible {
  color: var(--color-neutral-700);
}
.nav-section:not(.expanded) .nav-section-icon {
  transform: rotate(-90deg);
}

.nav-section:has(.nav-section-title.collapsible):not(.expanded) .nav-list {
  display: none;
}

.nav-list {
  list-style: none;
  margin: 0;
  padding: 0;
}

.nav-item {
  display: block;
  padding: var(--space-2) var(--space-6);
  color: var(--color-neutral-600);
  text-decoration: none;
  font-size: var(--font-size-body-200);
  transition: all var(--transition-fast);
  font-weight: var(--font-weight-medium);
}
.nav-item:hover {
  color: var(--color-neutral-700);
  background: var(--color-surface-interactive-hover);
}
.nav-item:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: -2px;
  border-radius: var(--border-radius-small);
}
.nav-item.active {
  color: var(--color-neutral-700);
  background: var(--color-surface-interactive-active);
}

.mobile-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--color-alpha-300);
  z-index: 40;
  pointer-events: none;
}
.mobile-overlay.open {
  display: block;
  pointer-events: auto;
}
/**
 * Table of Contents (TOC) Sidebar
 * 
 * Right sidebar for automatic page navigation
 * Displays h2 and h3 headings with smooth scroll
 * Sticky positioning with active state tracking
 */
.toc-sidebar {
  display: none;
  width: 240px;
  padding: var(--space-6) var(--space-4);
  background: var(--bg-secondary);
  border-left: none;
  overflow-y: auto;
  height: calc(100vh - var(--header-height));
  position: sticky;
  top: var(--header-height);
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}
.toc-sidebar::-webkit-scrollbar {
  width: 6px;
}
.toc-sidebar::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}
.toc-sidebar::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: var(--border-radius-x-small);
}
.toc-sidebar::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-hover);
}

.layout-with-toc .toc-sidebar {
  display: block;
}

.toc-nav {
  position: relative;
}

.toc-title {
  font-size: var(--font-size-body-100);
  font-weight: 600;
  color: var(--color-neutral-700);
  margin: 0 0 var(--space-4) 0;
  text-transform: capitalize;
  letter-spacing: 0.05em;
}

.toc-list {
  list-style: none;
  margin: 0;
  padding: 0;
}

.toc-item {
  margin: 0;
}
.toc-item.toc-level-2 {
  margin-bottom: var(--space-1);
}
.toc-item.toc-level-3 {
  padding-left: var(--space-4);
  margin-bottom: 0;
}

.toc-link {
  display: block;
  padding: var(--space-06) var(--space-2);
  font-size: var(--font-size-body-100);
  line-height: var(--line-height-relaxed);
  color: var(--color-neutral-600);
  text-decoration: none;
  transition: color var(--transition-fast), text-decoration var(--transition-fast);
}
.toc-link:hover {
  color: var(--color-neutral-700);
  text-decoration: underline;
}
.toc-link.active {
  color: var(--color-neutral-700);
  text-decoration: none;
}
.toc-link:focus-visible {
  outline: 2px solid var(--primary-500);
  outline-offset: 2px;
}


.toc-sidebar:empty::before {
  content: "No headings found";
  display: block;
  padding: var(--space-4);
  color: var(--text-tertiary);
  font-size: var(--font-size-body-100);
  font-style: italic;
  text-align: center;
}

.search-container {
  position: relative;
  width: 280px;
  z-index: 1001;
}
.search-input {
  width: 100%;
  padding: var(--space-2) var(--space-3);
  padding-left: var(--space-10);
  background: var(--color-surface-strong);
  border: 1px solid var(--color-border-primary);
  border-radius: var(--border-radius-medium);
  color: var(--color-foreground-primary);
  font-size: var(--font-size-body-200);
  transition: all var(--transition-fast);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2'%3E%3Ccircle cx='11' cy='11' r='8'/%3E%3Cpath d='m21 21-4.35-4.35'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: 12px center;
  background-size: 16px;
}
.search-input:focus {
  outline: none;
  border-color: var(--color-accent);
  background-color: var(--color-surface-primary);
  box-shadow: var(--shadow-surface-base);
}
.search-input::placeholder {
  color: var(--color-foreground-disabled);
}

.search-results {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  margin-top: var(--space-2);
  background: var(--color-surface-primary) !important;
  border: 1px solid var(--color-border-primary) !important;
  border-radius: var(--border-radius-medium);
  box-shadow: var(--shadow-overlay) !important;
  max-height: 400px;
  overflow-y: auto;
  z-index: 99999 !important;
}
.search-results:not([hidden]) {
  display: block !important;
}

.search-result-item {
  padding: var(--space-3) var(--space-4);
  border-bottom: 1px solid var(--color-border-primary);
  cursor: pointer;
  transition: background var(--transition-fast);
  text-decoration: none;
  display: block;
  color: inherit;
}
.search-result-item:last-child {
  border-bottom: none;
}
.search-result-item:hover, .search-result-item:focus {
  background: var(--color-surface-strong);
  transition: background var(--transition-fast);
  outline: none;
}
.search-result-item.active {
  background: var(--color-surface-strong);
}

.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: var(--color-accent);
  color: white;
  padding: var(--space-4) var(--space-5);
  text-decoration: none;
  border-radius: var(--border-radius-small);
  z-index: 1000;
  transition: top var(--transition-fast);
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-body-200);
  border: 2px solid transparent;
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}
.skip-link:focus {
  top: 6px;
  outline: 2px solid var(--color-neutral-300);
  outline-offset: 2px;
  clip: auto;
  clip-path: none;
  height: auto;
  overflow: visible;
  position: absolute;
  white-space: normal;
  width: auto;
}

.toast {
  position: fixed;
  top: 20px;
  right: 20px;
  background: var(--color-blue-100);
  color: var(--color-blue-500);
  padding: var(--space-4) var(--space-6);
  border-radius: var(--border-radius-medium);
  box-shadow: var(--shadow-lg);
  border-left: 4px solid var(--color-blue-300);
  z-index: 1000;
  transform: translateX(100%);
  transition: transform 0.3s ease;
}
.toast.toast-success {
  background: var(--color-green-100);
  color: var(--color-foreground-success-high-contrast);
  border-left-color: var(--color-foreground-success);
}
.toast.toast-error {
  background: var(--color-red-100);
  color: var(--color-foreground-critical-high-contrast);
  border-left-color: var(--color-foreground-critical);
}
.toast.toast-warning {
  background: var(--color-amber-100);
  color: var(--color-foreground-warning-high-contrast);
  border-left-color: var(--color-foreground-warning);
}

.developer-tools {
  display: none;
  position: fixed;
  top: 10px;
  right: 10px;
  background: var(--color-neutral-100);
  padding: var(--space-3);
  border-radius: var(--border-radius-medium);
  border: 1px solid var(--color-neutral-300);
  z-index: 1000;
}
.developer-tools h4 {
  margin: 0 0 var(--space-2) 0;
  font-size: var(--font-size-body-200);
  color: var(--color-neutral-700);
}
.developer-tools div {
  display: flex;
  gap: var(--space-2);
}

.text-left {
  text-align: left !important;
}

.text-center {
  text-align: center !important;
}

.text-right {
  text-align: right !important;
}

.text-justify {
  text-align: justify !important;
}

.align-left {
  display: flex;
  justify-content: flex-start;
}

.align-center {
  display: flex;
  justify-content: center;
}

.align-right {
  display: flex;
  justify-content: flex-end;
}

.align-between {
  display: flex;
  justify-content: space-between;
}

.align-around {
  display: flex;
  justify-content: space-around;
}

.self-start {
  align-self: flex-start !important;
}

.self-center {
  align-self: center !important;
}

.self-end {
  align-self: flex-end !important;
}

.mx-auto {
  margin-left: auto !important;
  margin-right: auto !important;
}

.ml-auto {
  margin-left: auto !important;
}

.mr-auto {
  margin-right: auto !important;
}

.flex {
  display: flex;
  gap: var(--space-4);
}

.flex-col {
  flex-direction: column;
}

.flex-wrap {
  flex-wrap: wrap;
}

.items-center {
  align-items: center;
}

.items-start {
  align-items: flex-start;
}

.items-end {
  align-items: flex-end;
}

.justify-center {
  justify-content: center;
}

.justify-between {
  justify-content: space-between;
}

.justify-end {
  justify-content: flex-end;
}

.gap-2 {
  gap: var(--space-2);
}

.gap-4 {
  gap: var(--space-4);
}

.gap-6 {
  gap: var(--space-6);
}

.gap-8 {
  gap: var(--space-8);
}

/* ============================================================================
   FOOTER
   Site footer with copyright and legal links
   ============================================================================ */

.site-footer {
  background-color: var(--color-surface-faint);
  border-top: 1px solid var(--color-border-primary);
  padding: var(--space-6) 0;
}

.footer-container {
  max-width: 100%;
  padding: 0 var(--space-6);
  margin: 0 auto;
}

.footer-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: var(--space-6);
  width: 100%;
}

.footer-left {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: var(--space-6);
}

.footer-copyright {
  margin: 0;
  font-size: var(--font-size-body-100);
  color: var(--color-neutral-600);
  white-space: nowrap;
}

.footer-legal {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  font-size: var(--font-size-body-100);
}

.footer-legal a {
  color: var(--color-neutral-600);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.footer-legal a:hover {
  color: var(--color-neutral-700);
  text-decoration: underline;
}

.footer-right {
  display: flex;
  align-items: center;
  flex-shrink: 0;
}

.footer-logo-link {
  display: flex;
  align-items: center;
}

.footer-logo {
  width: auto;
  display: block !important;
  max-width: 100px; 
}

.footer-logo-light {
  display: block !important;
}

.footer-logo-dark {
  display: none !important;
}

@media (prefers-color-scheme: dark) {
  .site-footer {
    background-color: var(--neutral-900);
    border-top-color: var(--neutral-800);
  }
  
  .footer-logo-light {
    display: none;
  }
  
  .footer-logo-dark {
    display: block;
  }
}

/* ============================================================================
   SEARCH MODAL
   Modal overlay for search functionality
   ============================================================================ */

.search-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;
  align-items: flex-start;
  justify-content: center;
  padding-top: 10vh;
}

.search-modal[aria-hidden="false"] {
  display: flex;
}

.search-modal-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
}

.search-modal-content {
  position: relative;
  width: 90%;
  max-width: 600px;
  background-color: #ffffff;
  border-radius: var(--border-radius-large);
  box-shadow: var(--shadow-overlay);
  border: 1px solid var(--neutral-300);
  max-height: 80vh;
  display: flex;
  flex-direction: column;
  animation: modalSlideIn 0.2s ease-out;
  overflow: visible;
}

@keyframes modalSlideIn {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.search-modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-4) var(--space-5);
  border-bottom: 1px solid var(--neutral-200);
}

.search-modal-title {
  font-size: var(--font-size-heading-400);
  font-weight: var(--font-weight-semibold);
  color: var(--neutral-700);
  margin: 0;
}

.search-modal-close {
  width: 40px;
  height: 40px;
  min-width: 40px;
  min-height: 40px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: transparent;
  color: var(--color-foreground-primary);
  border: 1px solid var(--neutral-300) !important;
  border-radius: var(--border-radius-medium);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.search-modal-close:hover {
  background-color: var(--color-surface-interactive-hover) !important;
  border-color: var(--color-border-strong) !important;
  color: var(--color-foreground-strong) !important;
  box-shadow: var(--shadow-surface-base) !important;
}

.search-modal-close:active {
  background-color: var(--color-surface-interactive-active) !important;
  box-shadow: var(--shadow-inset) !important;
}

.search-modal-close:focus-visible {
  outline-color: var(--color-focus-action-external) !important;
}

.search-modal-body {
  padding: var(--space-4) 0;
  overflow: visible;
  flex: 1;
  min-height: 0;
}

.search-modal .search-container {
  position: relative;
  width: 100%;
  padding: 0 var(--space-5);
  box-sizing: border-box;
}

.search-clear-btn {
  position: absolute;
  right: calc(var(--space-5) + var(--space-3));
  top: 50%;
  transform: translateY(-50%);
  width: 32px;
  height: 32px;
  min-width: 32px;
  min-height: 32px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: 1px solid var(--neutral-300);
  border-radius: var(--border-radius-small);
  color: var(--neutral-600);
  cursor: pointer;
  transition: all var(--transition-fast);
  z-index: 101;
}

.search-clear-btn:hover {
  background-color: var(--neutral-100);
  color: var(--neutral-700);
  border-color: var(--neutral-400);
}

.search-clear-btn:active {
  transform: translateY(-50%) scale(0.95);
}

.search-clear-btn:focus-visible {
  outline: 2px solid var(--color-focus-action-external);
  outline-offset: 2px;
}

.search-clear-btn[hidden] {
  display: none;
}

.search-modal .search-input {
  width: 100%;
  padding: var(--space-3) 48px var(--space-3) var(--space-4);
  font-size: var(--font-size-body-300);
  border: 2px solid var(--neutral-300);
  border-radius: var(--border-radius-medium);
  background-color: #ffffff;
  background-image: none !important;
  color: var(--neutral-700);
  transition: border-color var(--transition-fast);
}

/* Remove native search input styles */
.search-modal .search-input::-webkit-search-cancel-button {
  -webkit-appearance: none;
  appearance: none;
  display: none;
}

.search-modal .search-input::-webkit-search-decoration {
  -webkit-appearance: none;
  appearance: none;
}

.search-modal .search-input:focus {
  outline: none;
  border-color: var(--color-accent);
}

.search-modal .search-results {
  position: absolute !important;
  top: 100%;
  left: 0;
  right: 0;
  z-index: 100;
  margin-top: var(--space-2);
  max-height: 400px;
  overflow-y: auto;
  background: var(--color-surface-primary) !important;
  border: 1px solid var(--color-border-primary) !important;
  border-radius: var(--border-radius-medium);
  box-shadow: var(--shadow-overlay) !important;
  width: 100% !important;
}

/* ============================================================================
   LAZY APP LOADER - Lazy loading for embedded React/Vue/Svelte apps
   ============================================================================ */

.lazy-app-container {
  position: relative;
  width: 100%;
  border-radius: var(--border-radius-lg);
  overflow: hidden;
  transition: border-color 0.2s ease;
}

.lazy-app-container:hover {
  border-color: var(--border-subtle);
}

/* Add border and background only when loaded */
.lazy-app-container[data-lazy-app-loaded="true"] {
  border: 1px solid var(--border-default);
  background: var(--background-surface);
}

/* App Placeholder - shown before loading */
.app-placeholder {
  display: inline-block;
  text-align: center;
}

.app-placeholder .button,
.app-placeholder button {
  margin-top: 1rem;
  cursor: pointer;
}

/* Loading Spinner */
.loading-spinner {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  padding: 2rem;
}

.loading-spinner .spinner {
  width: 40px;
  height: 40px;
  border: 3px solid var(--border-subtle);
  border-top-color: var(--accent-primary);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.loading-spinner p {
  margin: 0;
  color: var(--text-muted);
  font-size: 0.875rem;
}

/* App Error State */
.app-error {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 2rem;
  text-align: center;
  color: var(--text-danger);
}

.app-error strong {
  font-size: 1rem;
  margin-bottom: 0.5rem;
}

.app-error .error-details {
  color: var(--text-muted);
  font-size: 0.875rem;
  margin: 0.5rem 0 1rem;
  font-family: var(--font-mono);
}

.app-error .retry-btn {
  margin-top: 1rem;
  padding: 0.5rem 1rem;
  background: var(--accent-primary);
  color: white;
  border: none;
  border-radius: var(--border-radius-md);
  cursor: pointer;
  font-size: 0.875rem;
  transition: background-color 0.2s ease;
}

.app-error .retry-btn:hover {
  background: var(--accent-primary-hover);
}

/* App loaded - hide placeholder */
.lazy-app-container[data-lazy-app-loaded="true"] .app-placeholder {
  display: none;
}

/* ============================================================================
   FORM ELEMENTS
   ============================================================================ */

/* Form Element Variables */
:root {
  --form-label-color: var(--color-neutral-700);
  --form-helper-text-color: var(--color-neutral-500);
  --form-error-color: var(--color-red-300);
  --form-error-icon-size: 14px;
  
  --form-control-padding: 7px;
  --form-control-border-radius: 5px;
  --form-control-border-width: 1px;
  
  --form-control-base-foreground-value-color: var(--color-neutral-700);
  --form-control-base-foreground-placeholder-color: var(--color-neutral-500);
  --form-control-base-surface-color-default: var(--color-neutral-0);
  --form-control-base-surface-color-hover: var(--color-neutral-100);
  --form-control-base-border-color-default: var(--color-neutral-400);
  --form-control-base-border-color-hover: var(--color-neutral-500);
  
  --form-control-checked-foreground-color: var(--color-neutral-0);
  --form-control-checked-surface-color-default: var(--color-blue-200);
  --form-control-checked-surface-color-hover: var(--color-blue-300);
  --form-control-checked-border-color-default: var(--color-blue-300);
  --form-control-checked-border-color-hover: var(--color-blue-400);
  
  --form-control-invalid-border-color-default: var(--color-red-300);
  --form-control-invalid-border-color-hover: var(--color-red-400);
  
  --form-control-readonly-foreground-color: var(--color-neutral-600);
  --form-control-readonly-surface-color: var(--color-neutral-100);
  --form-control-readonly-border-color: var(--color-alpha-100);
  
  --form-control-disabled-foreground-color: var(--color-neutral-400);
  --form-control-disabled-surface-color: var(--color-neutral-50);
  --form-control-disabled-border-color: var(--color-alpha-200);
  
  --form-checkbox-size: 16px;
  --form-checkbox-border-radius: 3px;
  --form-checkbox-border-width: 1px;
  
  --form-radio-size: 16px;
  --form-radio-border-width: 1px;
  
  --form-select-background-image-size: 16px;
  --form-select-background-image-position-right-x: 7px;
  --form-select-background-image-position-top-y: 9px;
  
  --elevation-inset-box-shadow: inset 0px 1px 2px 1px var(--color-alpha-100);
  --elevation-low-box-shadow: 0px 1px 1px 0px rgba(101, 106, 118, 0.05), 0px 2px 2px 0px rgba(101, 106, 118, 0.05);
}

/* Form Label */
.form-label,
label {
  display: block;
  width: max-content;
  max-width: 100%;
  margin-bottom: 4px;
  color: var(--form-label-color);
  font-weight: var(--font-weight-medium, 500);
  font-size: 0.875rem;
  line-height: 1.4286;
}

/* Form Helper Text */
.form-helper-text {
  display: block;
  margin-top: 4px;
  color: var(--form-helper-text-color);
  font-size: 0.8125rem;
  line-height: 1.3846;
}

/* Form Error Message */
.form-error {
  display: flex;
  gap: 8px;
  align-items: flex-start;
  margin-top: 4px;
  color: var(--form-error-color);
  font-size: 0.8125rem;
  line-height: 1.3846;
}

.form-error::before {
  content: "";
  flex: none;
  width: var(--form-error-icon-size);
  height: var(--form-error-icon-size);
  margin-top: 2px;
  font-size: 12px;
}

/* Text Input */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="url"],
input[type="tel"],
input[type="number"],
input[type="search"] {
  width: 100%;
  max-width: 100%;
  padding: var(--form-control-padding);
  color: var(--form-control-base-foreground-value-color);
  background-color: var(--form-control-base-surface-color-default);
  border: var(--form-control-border-width) solid var(--form-control-base-border-color-default);
  border-radius: var(--form-control-border-radius);
  box-shadow: var(--elevation-inset-box-shadow);
  font-family: inherit;
  font-size: 0.875rem;
  line-height: 1.4286;
  transition: border-color 0.2s ease, background-color 0.2s ease;
}

input[type="text"]::placeholder,
input[type="email"]::placeholder,
input[type="password"]::placeholder,
input[type="url"]::placeholder,
input[type="tel"]::placeholder,
input[type="number"]::placeholder,
input[type="search"]::placeholder {
  color: var(--form-control-base-foreground-placeholder-color);
}

input[type="text"]:hover,
input[type="email"]:hover,
input[type="password"]:hover,
input[type="url"]:hover,
input[type="tel"]:hover,
input[type="number"]:hover,
input[type="search"]:hover {
  border-color: var(--form-control-base-border-color-hover);
}

input[type="text"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
input[type="url"]:focus,
input[type="tel"]:focus,
input[type="number"]:focus,
input[type="search"]:focus {
  border-color: var(--color-blue-300);
  outline: 3px solid rgba(89, 144, 255, 0.5);
  outline-offset: 0;
}

input[type="text"]:read-only,
input[type="email"]:read-only,
input[type="password"]:read-only,
input[type="url"]:read-only,
input[type="tel"]:read-only,
input[type="number"]:read-only {
  color: var(--form-control-readonly-foreground-color);
  background-color: var(--form-control-readonly-surface-color);
  border-color: var(--form-control-readonly-border-color);
  box-shadow: none;
}

input[type="text"]:disabled,
input[type="email"]:disabled,
input[type="password"]:disabled,
input[type="url"]:disabled,
input[type="tel"]:disabled,
input[type="number"]:disabled,
input[type="search"]:disabled {
  color: var(--form-control-disabled-foreground-color);
  background-color: var(--form-control-disabled-surface-color);
  border-color: var(--form-control-disabled-border-color);
  box-shadow: none;
  cursor: not-allowed;
}

input[type="text"].invalid,
input[type="email"].invalid,
input[type="password"].invalid,
input[type="url"].invalid,
input[type="tel"].invalid,
input[type="number"].invalid {
  border-color: var(--form-control-invalid-border-color-default);
}

input[type="text"].invalid:hover,
input[type="email"].invalid:hover,
input[type="password"].invalid:hover,
input[type="url"].invalid:hover,
input[type="tel"].invalid:hover,
input[type="number"].invalid:hover {
  border-color: var(--form-control-invalid-border-color-hover);
}

input[type="text"].invalid:focus,
input[type="email"].invalid:focus,
input[type="password"].invalid:focus,
input[type="url"].invalid:focus,
input[type="tel"].invalid:focus,
input[type="number"].invalid:focus {
  border-color: var(--color-red-300);
  outline-color: rgba(221, 117, 120, 0.5);
}

/* Search Input - with icon */
input[type="search"] {
  padding-left: calc(var(--form-control-padding) + 24px);
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3e%3cg fill='%23656A76'%3e%3cpath d='M7.25 2a5.25 5.25 0 103.144 9.455l2.326 2.325a.75.75 0 101.06-1.06l-2.325-2.326A5.25 5.25 0 007.25 2zM3.5 7.25a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0z' fill-rule='evenodd' clip-rule='evenodd'/%3e%3c/g%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: 7px 50%;
  background-size: 16px;
}

input[type="search"]::-webkit-search-cancel-button {
  width: 16px;
  height: 16px;
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.78 4.28a.75.75 0 00-1.06-1.06L8 6.94 4.28 3.22a.75.75 0 00-1.06 1.06L6.94 8l-3.72 3.72a.75.75 0 101.06 1.06L8 9.06l3.72 3.72a.75.75 0 101.06-1.06L9.06 8l3.72-3.72z'/%3e%3c/svg%3e");
  background-position: center center;
  background-size: 16px;
  -webkit-appearance: none;
  appearance: none;
  cursor: pointer;
}

/* Date/Time Inputs */
input[type="date"],
input[type="time"],
input[type="datetime-local"],
input[type="month"],
input[type="week"] {
  width: auto;
  padding: var(--form-control-padding);
  color: var(--form-control-base-foreground-value-color);
  background-color: var(--form-control-base-surface-color-default);
  border: var(--form-control-border-width) solid var(--form-control-base-border-color-default);
  border-radius: var(--form-control-border-radius);
  box-shadow: var(--elevation-inset-box-shadow);
  font-family: inherit;
  font-size: 0.875rem;
  transition: border-color 0.2s ease;
}

input[type="date"]:hover,
input[type="time"]:hover,
input[type="datetime-local"]:hover,
input[type="month"]:hover,
input[type="week"]:hover {
  border-color: var(--form-control-base-border-color-hover);
}

input[type="date"]:focus,
input[type="time"]:focus,
input[type="datetime-local"]:focus,
input[type="month"]:focus,
input[type="week"]:focus {
  border-color: var(--color-blue-300);
  outline: 3px solid rgba(89, 144, 255, 0.5);
  outline-offset: 0;
}

/* Textarea */
textarea {
  width: 100%;
  max-width: 100%;
  min-height: 36px;
  padding: var(--form-control-padding);
  color: var(--form-control-base-foreground-value-color);
  background-color: var(--form-control-base-surface-color-default);
  border: var(--form-control-border-width) solid var(--form-control-base-border-color-default);
  border-radius: var(--form-control-border-radius);
  box-shadow: var(--elevation-inset-box-shadow);
  resize: vertical;
  font-family: inherit;
  font-size: 0.875rem;
  line-height: 1.4286;
  transition: border-color 0.2s ease;
}

textarea::placeholder {
  color: var(--form-control-base-foreground-placeholder-color);
}

textarea:hover {
  border-color: var(--form-control-base-border-color-hover);
}

textarea:focus {
  border-color: var(--color-blue-300);
  outline: 3px solid rgba(89, 144, 255, 0.5);
  outline-offset: 0;
}

textarea:read-only {
  color: var(--form-control-readonly-foreground-color);
  background-color: var(--form-control-readonly-surface-color);
  border-color: var(--form-control-readonly-border-color);
  box-shadow: none;
}

textarea:disabled {
  color: var(--form-control-disabled-foreground-color);
  background-color: var(--form-control-disabled-surface-color);
  border-color: var(--form-control-disabled-border-color);
  box-shadow: none;
  cursor: not-allowed;
}

textarea.invalid {
  border-color: var(--form-control-invalid-border-color-default);
}

textarea.invalid:hover {
  border-color: var(--form-control-invalid-border-color-hover);
}

textarea.invalid:focus {
  border-color: var(--color-red-300);
  outline-color: rgba(221, 117, 120, 0.5);
}

/* Select */
select {
  max-width: 100%;
  padding: var(--form-control-padding);
  padding-right: calc(var(--form-control-padding) + 24px);
  color: var(--form-control-base-foreground-value-color);
  background-color: var(--form-control-base-surface-color-default);
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.55 2.24a.75.75 0 0 0-1.1 0L4.2 5.74a.75.75 0 1 0 1.1 1.02L8 3.852l2.7 2.908a.75.75 0 1 0 1.1-1.02l-3.25-3.5Zm-1.1 11.52a.75.75 0 0 0 1.1 0l3.25-3.5a.75.75 0 1 0-1.1-1.02L8 12.148 5.3 9.24a.75.75 0 0 0-1.1 1.02l3.25 3.5Z' fill='%23656A76'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 7px top 9px;
  background-size: 16px 16px;
  border: var(--form-control-border-width) solid var(--form-control-base-border-color-default);
  border-radius: var(--form-control-border-radius);
  box-shadow: var(--elevation-low-box-shadow);
  appearance: none;
  font-family: inherit;
  font-size: 0.875rem;
  line-height: 1.4286;
  cursor: pointer;
  transition: border-color 0.2s ease;
}

select:hover {
  border-color: var(--form-control-base-border-color-hover);
}

select:focus {
  border-color: var(--color-blue-300);
  outline: 3px solid rgba(89, 144, 255, 0.5);
  outline-offset: 0;
}

select:disabled {
  color: var(--form-control-disabled-foreground-color);
  background-color: var(--form-control-disabled-surface-color);
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.55 2.24a.75.75 0 0 0-1.1 0L4.2 5.74a.75.75 0 1 0 1.1 1.02L8 3.852l2.7 2.908a.75.75 0 1 0 1.1-1.02l-3.25-3.5Zm-1.1 11.52a.75.75 0 0 0 1.1 0l3.25-3.5a.75.75 0 1 0-1.1-1.02L8 12.148 5.3 9.24a.75.75 0 0 0-1.1 1.02l3.25 3.5Z' fill='%238C909C'/%3E%3C/svg%3E");
  border-color: var(--form-control-disabled-border-color);
  box-shadow: none;
  cursor: not-allowed;
}

select.invalid {
  border-color: var(--form-control-invalid-border-color-default);
}

select.invalid:hover {
  border-color: var(--form-control-invalid-border-color-hover);
}

select.invalid:focus {
  border-color: var(--color-red-300);
  outline-color: rgba(221, 117, 120, 0.5);
}

/* Multiple select */
select[multiple],
select[size] {
  background: none;
}

select[multiple] option,
select[size] option {
  margin: 2px auto;
  border-radius: 3px;
}

select[multiple] option:hover,
select[size] option:hover {
  color: var(--color-blue-200);
}

select[multiple] option:disabled,
select[size] option:disabled {
  color: var(--form-control-disabled-foreground-color);
}

select[multiple] option:checked,
select[size] option:checked {
  color: var(--color-neutral-0);
  background: var(--color-blue-200);
}

/* Checkbox */
input[type="checkbox"] {
  width: var(--form-checkbox-size);
  height: var(--form-checkbox-size);
  margin: 0;
  margin-right: 8px;
  padding: 0;
  background-position: center center;
  background-size: 12px 12px;
  border-style: solid;
  border-width: var(--form-checkbox-border-width);
  border-radius: var(--form-checkbox-border-radius);
  cursor: pointer;
  appearance: none;
  vertical-align: middle;
  transition: background-color 0.2s ease, border-color 0.2s ease;
}

input[type="checkbox"]:not(:checked) {
  background-color: var(--form-control-base-surface-color-default);
  border-color: var(--form-control-base-border-color-default);
  box-shadow: var(--elevation-inset-box-shadow);
}

input[type="checkbox"]:checked {
  background-color: var(--form-control-checked-surface-color-default);
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 12 12' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M9.78033 3.21967C10.0732 3.51256 10.0732 3.98744 9.78033 4.28033L5.28033 8.78033C4.98744 9.07322 4.51256 9.07322 4.21967 8.78033L2.21967 6.78033C1.92678 6.48744 1.92678 6.01256 2.21967 5.71967C2.51256 5.42678 2.98744 5.42678 3.28033 5.71967L4.75 7.18934L8.71967 3.21967C9.01256 2.92678 9.48744 2.92678 9.78033 3.21967Z' fill='%23FFF'/%3e%3c/svg%3e");
  border-color: var(--form-control-checked-border-color-default);
}

input[type="checkbox"]:indeterminate {
  background-color: var(--form-control-checked-surface-color-default);
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 12 12' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m2.03125,6a0.66146,0.75 0 0 1 0.66146,-0.75l6.61458,0a0.66146,0.75 0 0 1 0,1.5l-6.61458,0a0.66146,0.75 0 0 1 -0.66146,-0.75z' fill='%23FFF'/%3e%3c/svg%3e");
  border-color: var(--form-control-checked-border-color-default);
}

input[type="checkbox"]:hover:not(:checked) {
  background-color: var(--form-control-base-surface-color-hover);
  border-color: var(--form-control-base-border-color-hover);
}

input[type="checkbox"]:hover:checked,
input[type="checkbox"]:hover:indeterminate {
  background-color: var(--form-control-checked-border-color-default);
  border-color: var(--form-control-checked-border-color-hover);
}

input[type="checkbox"]:focus {
  outline: 3px solid rgba(89, 144, 255, 0.5);
  outline-offset: 1px;
}

input[type="checkbox"]:disabled:not(:checked) {
  background-color: var(--form-control-disabled-surface-color);
  border-color: var(--form-control-disabled-border-color);
  box-shadow: none;
  cursor: not-allowed;
}

input[type="checkbox"]:disabled:checked {
  background-color: var(--form-control-disabled-surface-color);
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 12 12' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M9.78033 3.21967C10.0732 3.51256 10.0732 3.98744 9.78033 4.28033L5.28033 8.78033C4.98744 9.07322 4.51256 9.07322 4.21967 8.78033L2.21967 6.78033C1.92678 6.48744 1.92678 6.01256 2.21967 5.71967C2.51256 5.42678 2.98744 5.42678 3.28033 5.71967L4.75 7.18934L8.71967 3.21967C9.01256 2.92678 9.48744 2.92678 9.78033 3.21967Z' fill='%238C909C'/%3e%3c/svg%3e");
  border-color: var(--form-control-disabled-border-color);
  box-shadow: none;
  cursor: not-allowed;
}

input[type="checkbox"]:disabled:indeterminate {
  background-color: var(--form-control-disabled-surface-color);
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 12 12' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m2.03125,6a0.66146,0.75 0 0 1 0.66146,-0.75l6.61458,0a0.66146,0.75 0 0 1 0,1.5l-6.61458,0a0.66146,0.75 0 0 1 -0.66146,-0.75z' fill='%238C909C'/%3e%3c/svg%3e");
  background-repeat: no-repeat;
  border-color: var(--form-control-disabled-border-color);
  box-shadow: none;
  cursor: not-allowed;
}

/* Radio Button */
input[type="radio"] {
  width: var(--form-radio-size);
  height: var(--form-radio-size);
  margin: 0;
  margin-right: 8px;
  padding: 0;
  background-position: center center;
  background-size: 12px 12px;
  border-style: solid;
  border-width: var(--form-radio-border-width);
  border-radius: 50%;
  cursor: pointer;
  appearance: none;
  vertical-align: middle;
  transition: background-color 0.2s ease, border-color 0.2s ease;
}

input[type="radio"]:not(:checked) {
  background-color: var(--form-control-base-surface-color-default);
  border-color: var(--form-control-base-border-color-default);
  box-shadow: var(--elevation-inset-box-shadow);
}

input[type="radio"]:checked {
  background-color: var(--form-control-checked-surface-color-default);
  background-image: url("data:image/svg+xml,%3csvg width='12' height='12' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='6' cy='6' r='2.5' fill='%23ffffff'/%3e%3c/svg%3e");
  border-color: var(--form-control-checked-border-color-default);
}

input[type="radio"]:hover:not(:checked) {
  background-color: var(--form-control-base-surface-color-hover);
  border-color: var(--form-control-base-border-color-hover);
}

input[type="radio"]:hover:checked {
  background-color: var(--form-control-checked-border-color-default);
  border-color: var(--form-control-checked-border-color-hover);
}

input[type="radio"]:focus {
  outline: 3px solid rgba(89, 144, 255, 0.5);
  outline-offset: 1px;
}

input[type="radio"]:disabled:not(:checked) {
  background-color: var(--form-control-disabled-surface-color);
  border-color: var(--form-control-disabled-border-color);
  box-shadow: none;
  cursor: not-allowed;
}

input[type="radio"]:disabled:checked {
  background-color: var(--form-control-disabled-surface-color);
  background-image: url("data:image/svg+xml,%3csvg width='12' height='12' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='6' cy='6' r='2.5' fill='%238C909C'/%3e%3c/svg%3e");
  border-color: var(--form-control-disabled-border-color);
  box-shadow: none;
  cursor: not-allowed;
}

/* File Input */
input[type="file"] {
  width: 100%;
  margin: -4px 0 -4px -4px;
  padding: 3px 0 3px 3px;
  color: var(--form-control-base-foreground-value-color);
  font-family: inherit;
  font-size: 0.875rem;
}

input[type="file"]:focus,
input[type="file"]:focus-visible {
  outline: none;
}

input[type="file"]::file-selector-button {
  min-height: 36px;
  margin-right: 16px;
  padding: 7px 16px 7px 37px;
  color: var(--form-control-base-foreground-value-color);
  font: inherit;
  background-color: var(--color-neutral-50);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cg fill='%233b3d45'%3E%3Cpath d='M4.24 5.8a.75.75 0 001.06-.04l1.95-2.1v6.59a.75.75 0 001.5 0V3.66l1.95 2.1a.75.75 0 101.1-1.02l-3.25-3.5a.75.75 0 00-1.101.001L4.2 4.74a.75.75 0 00.04 1.06z'/%3E%3Cpath d='M1.75 9a.75.75 0 01.75.75v3c0 .414.336.75.75.75h9.5a.75.75 0 00.75-.75v-3a.75.75 0 011.5 0v3A2.25 2.25 0 0112.75 15h-9.5A2.25 2.25 0 011 12.75v-3A.75.75 0 011.75 9z'/%3E%3C/g%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: 15px 50%;
  background-size: 16px;
  border: 1px solid var(--color-alpha-300);
  border-radius: 5px;
  box-shadow: var(--elevation-low-box-shadow);
  cursor: pointer;
  transition: background-color 0.2s ease;
}

input[type="file"]::file-selector-button:hover {
  color: var(--form-control-base-foreground-value-color);
  background-color: var(--color-neutral-0);
  border-color: var(--color-alpha-300);
}

input[type="file"]:focus-within::file-selector-button {
  color: var(--form-control-base-foreground-value-color);
  background-color: var(--color-neutral-50);
  border-color: var(--color-blue-300);
  outline: 3px solid rgba(89, 144, 255, 0.5);
}

input[type="file"]:not(:focus)::file-selector-button {
  border-color: var(--color-alpha-300);
  outline: 0;
}

input[type="file"]::file-selector-button:active {
  color: var(--form-control-base-foreground-value-color);
  background-color: var(--color-neutral-200);
  border-color: var(--color-alpha-300);
  box-shadow: none;
}

input[type="file"]:disabled,
input[type="file"][disabled] {
  color: var(--form-control-disabled-foreground-color);
}

input[type="file"]:disabled::file-selector-button,
input[type="file"][disabled]::file-selector-button {
  color: var(--form-control-disabled-foreground-color);
  background-color: var(--form-control-disabled-surface-color);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' viewBox='0 0 16 16'%3E%3Cg fill='%238c909c'%3E%3Cpath d='M4.24 5.8a.75.75 0 001.06-.04l1.95-2.1v6.59a.75.75 0 001.5 0V3.66l1.95 2.1a.75.75 0 101.1-1.02l-3.25-3.5a.75.75 0 00-1.101.001L4.2 4.74a.75.75 0 00.04 1.06z'/%3E%3Cpath d='M1.75 9a.75.75 0 01.75.75v3c0 .414.336.75.75.75h9.5a.75.75 0 00.75-.75v-3a.75.75 0 011.5 0v3A2.25 2.25 0 0112.75 15h-9.5A2.25 2.25 0 011 12.75v-3A.75.75 0 011.75 9z'/%3E%3C/g%3E%3C/svg%3E");
  border-color: var(--form-control-disabled-border-color);
  box-shadow: none;
  cursor: not-allowed;
}

/* Form Field Groups - for better layout */
.form-field {
  margin-bottom: 1rem;
}

.form-field:last-child {
  margin-bottom: 0;
}

/* Fieldset */
fieldset {
  margin: 0 0 1rem 0;
  padding: 1rem;
  border: 1px solid var(--color-alpha-200);
  border-radius: var(--form-control-border-radius);
}

fieldset legend {
  padding: 0 0.5rem;
  color: var(--form-label-color);
  font-weight: var(--font-weight-semibold, 600);
  font-size: 0.875rem;
}

/* ============================================================================
   FORM BUTTONS - Button styles for form elements and .button class
   ============================================================================ */

.button,
form .button,
form button[type="submit"],
form button[type="reset"] {
  display: inline-block;
  padding: 8px 16px;
  font-family: inherit;
  font-size: 0.875rem;
  font-weight: var(--font-weight-medium, 500);
  line-height: 1.4286;
  text-align: center;
  text-decoration: none;
  color: var(--color-foreground-primary);
  background-color: var(--color-surface-faint);
  border: 1px solid var(--color-alpha-300);
  border-radius: var(--border-radius-medium, 5px);
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: var(--elevation-low-box-shadow);
}

.button:hover,
form .button:hover,
form button[type="submit"]:hover,
form button[type="reset"]:hover {
  background-color: var(--color-surface-interactive-hover);
  border-color: var(--color-border-strong);
  box-shadow: var(--shadow-surface-base);
}

.button:active,
form .button:active,
form button[type="submit"]:active,
form button[type="reset"]:active {
  background-color: var(--color-surface-interactive-active);
  box-shadow: none;
}

.button:focus,
form .button:focus,
form button[type="submit"]:focus,
form button[type="reset"]:focus {
  border-color: var(--color-blue-300);
  outline: 3px solid rgba(89, 144, 255, 0.5);
  outline-offset: 0;
}

.button:disabled,
form .button:disabled,
form button[type="submit"]:disabled,
form button[type="reset"]:disabled {
  color: var(--form-control-disabled-foreground-color);
  background-color: var(--form-control-disabled-surface-color);
  border-color: var(--form-control-disabled-border-color);
  cursor: not-allowed;
  box-shadow: none;
}

/* Button Primary */
.button-primary,
form .button-primary,
form button[type="submit"].button-primary {
  color: var(--color-neutral-0);
  background-color: var(--color-blue-200);
  border-color: var(--color-blue-300);
}

.button-primary:hover,
form .button-primary:hover,
form button[type="submit"].button-primary:hover {
  background-color: var(--color-blue-300);
  border-color: var(--color-blue-400);
}

.button-primary:active,
form .button-primary:active,
form button[type="submit"].button-primary:active {
  background-color: var(--color-blue-400);
}

/* Button Secondary */
.button-secondary,
form .button-secondary {
  color: var(--color-foreground-primary);
  background-color: transparent;
  border-color: var(--color-border-primary);
}

.button-secondary:hover,
form .button-secondary:hover {
  background-color: var(--color-surface-interactive-hover);
  border-color: var(--color-border-strong);
}

/* Button Danger */
.button-danger,
form .button-danger {
  color: var(--color-neutral-0);
  background-color: var(--color-red-300);
  border-color: var(--color-red-400);
}

.button-danger:hover,
form .button-danger:hover {
  background-color: var(--color-red-400);
  border-color: var(--color-red-500);
}

/* Button Sizes */
.button-sm,
form .button-sm {
  padding: 4px 12px;
  font-size: 0.8125rem;
}

.button-lg,
form .button-lg {
  padding: 12px 24px;
  font-size: 1rem;
}

/* ============================================================================
   RESPONSIVE STYLES - HIDE TOC (max-width: 1200px)
   Hide TOC when 3-column layout becomes cramped, keep sidebar visible
   ============================================================================ */

@media (max-width: 1200px) {
  /* --- TOC --- */
  /* Hide TOC when screen is too narrow for 3-column layout */
  .toc-sidebar {
    display: none !important;
  }
  
  /* --- LAYOUT --- */
  /* Two column layout: sidebar + content */
  .layout-with-toc {
    grid-template-columns: var(--sidebar-width) 1fr;
  }
  
  /* --- MAIN CONTENT --- */
  /* Adjust content padding when TOC is hidden */
  .layout-with-toc .main-content {
    padding: var(--space-12);
    padding-top: var(--header-height);
  }
}

/* ============================================================================
   RESPONSIVE STYLES - MOBILE SIDEBAR (max-width: 1024px)
   Switch to mobile overlay sidebar for tablet landscape and below
   ============================================================================ */

@media (max-width: 1024px) {
  /* --- HEADER --- */
  /* Show mobile menu */
  .mobile-only {
    display: block;
  }
  
  /* Hide desktop navigation */
  .header-nav {
    display: none;
  }
  
  /* Header dropdown adjustments */
  .header-dropdown {
    min-width: 180px;
  }
  
  /* --- SIDEBAR --- */
  /* Switch to mobile overlay sidebar */
  .sidebar {
    position: fixed;
    top: 0;
    left: 0;
    width: 280px;
    height: 100vh;
    transform: translateX(-100%);
    z-index: var(--z-index-modal);
    box-shadow: var(--shadow-overlay);
  }
  
  /* Show mobile-only sidebar on mobile devices */
  .sidebar.mobile-only {
    display: block;
  }
  
  .sidebar.open {
    transform: translateX(0);
  }
  
  .sidebar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  
  .mobile-header-nav {
    display: block;
  }
  
  .sidebar-nav {
    padding-top: var(--space-4);
  }
  
  /* Mobile overlay */
  .mobile-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: calc(var(--z-index-modal) - 1);
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--transition-normal), visibility var(--transition-normal);
  }
  
  .mobile-overlay.open {
    opacity: 1;
    visibility: visible;
  }
  
  /* --- LAYOUT --- */
  /* Single column layout when sidebar is hidden */
  .layout,
  .layout-with-toc {
    grid-template-columns: 1fr;
  }
  
  /* --- MAIN CONTENT --- */
  /* Adjust padding when sidebar becomes mobile overlay */
  .main-content,
  .layout-with-toc .main-content {
    padding: var(--space-8) var(--space-6);
    padding-top: var(--header-height);
  }
  
  /* --- GRID SYSTEM --- */
  /* Grid shortcuts: scale down on tablet */
  .grid-4, .grid-6 {
    grid-template-columns: repeat(2, 1fr);
  }
  
}

/* ============================================================================
   RESPONSIVE STYLES - TABLET (max-width: 768px)
   Consolidated responsive rules for tablet devices
   ============================================================================ */

@media (max-width: 768px) {
  /* --- GRID SYSTEM --- */
  /* All grids become 1 column on mobile */
  .grid,
  .grid-2,
  .grid-3,
  .grid-4,
  .grid-6,
  .grid-auto-fit,
  .grid-2-1,
  .grid-3-1,
  .grid-1-2,
  .grid-1-3 {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }
  
  
  /* --- MAIN CONTENT --- */
  .main-content {
    padding: var(--space-8) var(--space-6);
    padding-top: var(--header-height);
  }
  
  .content-container {
    max-width: 100%;
    padding-top: var(--space-6);
  }
  
  /* --- TYPOGRAPHY --- */
  h1, .page-title, .subpage-title {
    font-size: var(--font-size-display-400);
  }
  
  h2, .content h2 {
    font-size: var(--font-size-display-300);
  }
  
  h3, .content h3 {
    font-size: var(--font-size-display-200);
  }
  
  .page-description {
    font-size: var(--font-size-body-300);
  }
  
  /* --- SPACING --- */
  .content h2 {
    padding-top: var(--space-3);
    margin-bottom: var(--space-3);
  }
  
  .content h3 {
    margin-top: var(--space-4);
    margin-bottom: var(--space-2);
  }
  
  /* --- IMAGES --- */
  .content img {
    margin: var(--space-4) auto;
  }
  
  /* --- FOOTER --- */
  .site-footer {
    padding: var(--space-4) 0;
  }
  
  .footer-container {
    padding: 0 var(--space-4);
  }
  
  .footer-content {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-4);
  }
  
  .footer-left {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-3);
  }
  
  .footer-legal {
    flex-wrap: wrap;
    gap: var(--space-3);
  }
  
  .footer-copyright {
    white-space: normal;
  }
  
  /* --- COMPONENTS --- */
  
  /* Tables */
  .content table {
    font-size: var(--font-size-body-200);
  }
  
  /* Code blocks */
  .code-block {
    font-size: var(--font-size-code-200);
  }
  
  /* Scroll to top */
  .scroll-to-top {
    bottom: calc(var(--space-8) + var(--space-5));
    right: var(--space-4);
  }
  
  /* Tabs */
  .tabs-header {
    gap: var(--space-1);
  }
  
  .tab-button {
    padding: var(--space-3);
    font-size: var(--font-size-body-100);
    min-width: auto;
  }
  
  /* Button group */
  .button-group {
    flex-direction: column;
  }
  
  .button-group .btn-primary,
  .button-group .btn-secondary {
    width: 100%;
    justify-content: center;
  }
  
  /* Cards */
  .card-horizontal {
    flex-direction: column;
  }
  
  .card-horizontal .card-image {
    width: 100%;
    height: auto;
    gap: var(--space-4);
  }
  
  /* Scroll to top button */
  .scroll-to-top {
    bottom: calc(var(--space-8) + var(--space-5));
    right: var(--space-4);
    width: 44px;
    height: 44px;
  }
  
  /* Search modal */
  .search-modal {
    padding-top: 5vh;
  }
  
  .search-modal-content {
    width: calc(100% - var(--space-8));
    max-width: 600px;
  }
  
  /* Breadcrumb */
  .breadcrumb {
    padding: var(--space-2) 0;
  }
  
}

/* ============================================================================
   RESPONSIVE STYLES - MOBILE (max-width: 480px)
   Consolidated responsive rules for mobile devices
   ============================================================================ */

@media (max-width: 480px) {
  /* --- SIDEBAR --- */
  .sidebar {
    width: 100%;
    max-width: 320px;
  }
  
  .sidebar-header {
    padding: var(--space-3);
  }
  
  .sidebar-nav {
    padding: var(--space-3) 0 var(--space-4) 0;
  }
  
  .nav-section {
    margin-bottom: var(--space-6);
  }
  
  .nav-section-title {
    padding: 0 var(--space-4) var(--space-2) var(--space-4);
  }
  
  /* --- MAIN CONTENT --- */
  .main-content {
    padding: var(--space-8) var(--space-6);
    padding-top: var(--header-height);
  }
  
  .content-container {
    padding-top: var(--space-4);
  }
  
  
  /* --- TYPOGRAPHY --- */
  h1, .page-title, .subpage-title {
    font-size: var(--font-size-display-300);
    line-height: 1.2;
  }
  
  h2, .content h2 {
    font-size: var(--font-size-display-200);
  }
  
  h3, .content h3 {
    font-size: var(--font-size-display-200);
  }
  
  h4, h5, h6,
  .content h4,
  .content h5,
  .content h6 {
    font-size: var(--font-size-body-300);
  }
  
  p, .content p {
    font-size: var(--font-size-body-200);
  }
  
  .page-description {
    font-size: var(--font-size-body-200);
  }
  
  /* --- SPACING --- */
  .content h2 {
    padding-top: var(--space-2);
    margin-bottom: var(--space-2);
  }
  
  .content h3 {
    margin-top: var(--space-3);
    margin-bottom: var(--space-2);
  }
  
  .content h4,
  .content h5,
  .content h6 {
    margin-top: var(--space-3);
    margin-bottom: var(--space-1);
  }
  
  .content p {
    margin-bottom: var(--space-3);
  }
  
  /* --- IMAGES --- */
  .content img {
    margin: var(--space-3) auto;
  }
  
  /* --- BUTTONS --- */
  .btn,
  .button {
    padding: var(--space-2) var(--space-4);
    font-size: var(--font-size-body-200);
  }
  
  /* --- FOOTER --- */
  .site-footer {
    padding: var(--space-3) 0;
  }
  
  .footer-container {
    padding: 0 var(--space-3);
  }
  
  .footer-content {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-3);
  }
  
  .footer-left {
    flex-direction: column;
    gap: var(--space-2);
  }
  
  .footer-copyright {
    font-size: var(--font-size-body-100);
  }
  
  .footer-legal {
    font-size: var(--font-size-body-100);
    gap: var(--space-2);
  }
  
  .footer-logo {
    max-width: 80px;
  }
  
  /* --- COMPONENTS --- */
  
  /* Tables - horizontal scroll */
  .content table {
    display: block;
    overflow-x: auto;
    font-size: var(--font-size-body-100);
  }
  
  /* Code blocks */
  .code-block pre {
    font-size: var(--font-size-code-100);
    padding: var(--space-3);
    padding-right: calc(var(--space-3) + 48px);
  }
  
  /* Tabs */
  .tabs-header {
    gap: 0;
    overflow-x: auto;
  }
  
  .tab-button {
    padding: var(--space-2) var(--space-3);
    font-size: var(--font-size-body-100);
    white-space: nowrap;
  }
  
  /* Cards */
  .card {
    padding: var(--space-3);
  }
  
  .card-title {
    font-size: var(--font-size-display-200);
  }
  
  /* Scroll to top button */
  .scroll-to-top {
    bottom: var(--space-4);
    right: var(--space-3);
    width: 40px;
    height: 40px;
  }
  
  /* Search modal */
  .search-modal {
    padding-top: 2vh;
  }
  
  .search-modal-content {
    width: calc(100% - var(--space-6));
  }
  
  .search-input {
    font-size: var(--font-size-body-200);
  }
  
  /* Breadcrumb */
  .breadcrumb {
    padding: var(--space-2) 0;
    overflow-x: auto;
  }
  
  /* Lists */
  .content ul,
  .content ol {
    padding-left: var(--space-5);
  }
  
  /* Blockquotes */
  .content blockquote {
    padding: var(--space-3);
    margin: var(--space-3) 0;
    font-size: var(--font-size-body-200);
  }
  
  /* Info boxes */
  .info-box,
  .warning-box,
  .success-box,
  .error-box {
    padding: var(--space-3);
    margin: var(--space-3) 0;
    font-size: var(--font-size-body-200);
  }
}

/* ============================================================================
   PLUGIN-READY STYLES
   Styles for official Chiron plugins (cookies, analytics, etc.)
   ============================================================================ */

/* --- Cookie Plugin Styles --- */

/* Cookie toggle checkbox with label */
.cookie-toggle {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin: var(--space-3) 0;
  cursor: pointer;
  font-size: var(--font-size-body-200);
}

.cookie-toggle input[type="checkbox"] {
  cursor: pointer;
  width: 18px;
  height: 18px;
}

.cookie-toggle:hover {
  opacity: 0.8;
}

/* Cookie actions button group */
.cookie-actions {
  display: flex;
  gap: var(--space-3);
  margin-top: var(--space-5);
  flex-wrap: wrap;
}

/* Responsive cookie actions */
@media (max-width: 768px) {
  .cookie-actions {
    flex-direction: column;
  }
  
  .cookie-actions .button {
    width: 100%;
  }
}

/* --- Blog Plugin Styles --- */
/* Styles will be added incrementally as we test each helper function */

/* Blog Post Header */
.blog-post-header {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  font-size: 0.875rem;
  color: var(--color-text-light);
  margin-bottom: var(--space-5);
  padding-bottom: var(--space-4);
  border-bottom: 1px solid var(--color-border);
}

.blog-meta-date,
.blog-meta-author {
  display: inline-flex;
  align-items: center;
  gap: 0.5em;
}

.blog-meta-reading-time {
  display: inline-flex;
  align-items: center;
  gap: 0.5em;
  color: var(--color-text-light);
  font-style: italic;
}

.blog-meta-author a {
  color: inherit;
  text-decoration: none;
  transition: color 0.2s ease;
}

.blog-meta-author a:hover {
  color: var(--color-primary);
}

/* Author Avatar */
.author-avatar {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  object-fit: cover;
}

/* Author Social Links */
.author-social {
  display: inline-flex;
  align-items: center;
  gap: 0.5em;
  margin-left: 0.5em;
}

.social-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 1.25em;
  height: 1.25em;
  color: var(--color-text-light);
  text-decoration: none;
  transition: color 0.2s ease;
}

.social-icon:hover {
  color: var(--color-primary);
  text-decoration: none;
}

.social-icon::before {
  content: '';
  display: block;
  width: 1em;
  height: 1em;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}

.social-x::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='currentColor'%3E%3Cpath d='M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z'/%3E%3C/svg%3E");
}

.social-github::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='currentColor'%3E%3Cpath d='M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z'/%3E%3C/svg%3E");
}

.social-linkedin::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='currentColor'%3E%3Cpath d='M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z'/%3E%3C/svg%3E");
}

.social-website::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='currentColor'%3E%3Cpath d='M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm9.5 12c0 1.563-.377 3.033-1.036 4.331l-3.1-8.492A7.448 7.448 0 0 1 21.5 12zm-9.5 9.5c-1.404 0-2.729-.305-3.927-.848l4.172-12.125 4.276 11.71c.028.07.061.136.097.2A9.456 9.456 0 0 1 12 21.5zm-7.838-3.653A9.456 9.456 0 0 1 2.5 12c0-2.157.72-4.146 1.935-5.736l4.237 11.6-4.51-1.017zM12 2.5c1.8 0 3.458.5 4.885 1.368l-.37.57-.004.006a7.467 7.467 0 0 0-4.511-1.507 7.466 7.466 0 0 0-6.71 4.13l4.518 12.376L12 2.5z'/%3E%3C/svg%3E");
}

/* Featured Image */
.blog-featured-image {
  margin: 0 0 var(--space-5) 0;
}

/* Blog Post Footer */
.blog-post-footer {
  margin-top: var(--space-6);
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-border);
}

.blog-meta-categories,
.blog-meta-tags {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

/* Category Badges */
.blog-category-badge {
  display: inline-block;
  padding: 0.375em 0.875em;
  background: var(--color-primary-soft);
  color: var(--color-primary);
  border-radius: calc(var(--border-radius) * 2);
  text-decoration: none;
  font-size: 0.875rem;
  font-weight: 500;
  transition: all 0.2s ease;
}

.blog-category-badge:hover {
  background: var(--color-primary);
  color: white;
  text-decoration: none;
  transform: translateY(-1px);
}

/* Tag Badges */
.blog-tag-badge {
  display: inline-block;
  padding: 0.25em 0.75em;
  background: var(--color-neutral-100);
  color: var(--color-text);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius);
  text-decoration: none;
  font-size: 0.8125rem;
  transition: all 0.2s ease;
}

.blog-tag-badge:hover {
  background: var(--color-neutral-200);
  border-color: var(--color-primary);
  color: var(--color-primary);
  text-decoration: none;
}

/* ============================================================================
   SECTION 30: DARK THEME
   All dark mode styles consolidated in one place
   ============================================================================ */

[data-theme="dark"] {
  
  /* Scrollbar colors */
  --scrollbar-thumb: var(--color-neutral-500);
  --scrollbar-thumb-hover: var(--color-neutral-400);
  --scrollbar-track: var(--color-neutral-700);
  
  /* Scrollbar styling - Firefox */
  scrollbar-color: var(--color-neutral-500) var(--color-neutral-700);
  
  /* --- 30.1 LAYOUT: Header, Sidebar, Footer --- */
  
  /* Body - prevents white flash on page change */
  body {
    background: var(--neutral-950);
  }
  
  h1, h2, h3, h4, h5, h6, dt {
    color: var(--color-neutral-100);
  }

  p, ul li, ol li, .content dd {
    color: var(--color-neutral-300);
  }

  .content .footnotes li {
    color: var(--color-neutral-400);
  }

  /* Blockquotes - Only override standard blockquotes (without classes) */
  .content blockquote:not(.note):not(.info):not(.warning):not(.success):not(.tip):not(.error):not(.danger):not(.important) {
    border-left-color: var(--neutral-400);
    background: var(--neutral-900);
    color: var(--color-neutral-200);
  }

  .content blockquote:not(.note):not(.info):not(.warning):not(.success):not(.tip):not(.error):not(.danger):not(.important) cite,
  .content blockquote:not(.note):not(.info):not(.warning):not(.success):not(.tip):not(.error):not(.danger):not(.important) footer {
    color: var(--neutral-300);
  }

  /* Header */
  .header {
    background: var(--neutral-900);
    border-bottom-color: var(--neutral-800);
  }
  
  /* Project name - always white (opposite of light mode black) */
  .header .logo-link .project-name {
    color: var(--neutral-200) !important;
  }
  
  /* Ensure project name stays white even on hover/active states */
  .header .logo-link:hover .project-name,
  .header .logo-link:active .project-name,
  .header .logo-link:focus .project-name,
  .header .logo-link:visited .project-name {
    color: var(--neutral-200) !important;
  }
  
  /* Header navigation links */
  .header-nav a,
  .header-nav-link {
    color: var(--neutral-200);
  }
  
  .header-nav a:hover,
  .header-nav a:focus,
  .header-nav a.active,
  .header-nav-link:hover,
  .header-nav-link:focus,
  .header-nav-link.active {
    color: var(--color-neutral-0);
  }
  
  /* Logo visibility - Header */
  .logo-light {
    display: none !important;
  }
  
  .logo-dark {
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
  }

  /* Single logo - always visible, doesn't change between themes */
  .logo-single {
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
  }

  .breadcrumb-item a {
    color: var(--neutral-400);
  }

  .breadcrumb-item a:hover {
    color: var(--neutral-400);
  }

  .breadcrumb-item.current {
    color: var(--neutral-100);
  }
  
  /* Footer */
  .site-footer {
    background: var(--neutral-900);
    border-top-color: var(--neutral-800);
  }
  
  /* Logo visibility - Footer */
  .footer-logo-light {
    display: none !important;
  }
  
  .footer-logo-dark {
    display: block !important;
  }
  
  /* Header dropdown */
  .header-dropdown {
    background: var(--neutral-950);
    border-color: var(--color-border-primary);
    box-shadow: var(--shadow-overlay);
  }
  
  .header-dropdown a {
    color: var(--neutral-300);
  }
  
  .header-dropdown a:hover,
  .header-dropdown a:focus {
    color: var(--neutral-100);
    background: var(--neutral-900);
  }
  
  .header-dropdown a.active {
    background-color: var(--neutral-800); 
    color: var(--neutral-100);
  }

  .header-action-btn {
  
  /* Colors */
  background-color: transparent;
  color: var(--neutral-300);
  border: 1px solid var(--color-border-primary);
  
  /* Hover */
  &:hover:not(:disabled):not([disabled]):not(.disabled) {
    background-color: var(--color-alpha-200);
    border-color: var(--color-border-strong);
    color: var(--neutral-300);
    box-shadow: var(--shadow-surface-base);
  }
  
  /* Active */
  &:active:not(:disabled):not([disabled]):not(.disabled) {
    background-color: var(--color-alpha-100);
    box-shadow: var(--shadow-inset);
  }
}
  
  .header-dropdown-divider {
    background-color: var(--color-border-secondary);
  }
  
  /* Language switcher dropdown - dark mode */
  .language-switcher .dropdown-menu {
    background: var(--neutral-950);
    border-color: var(--neutral-800);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.6);
  }
  
  .language-switcher .dropdown-item {
    color: var(--neutral-300);
  }
  
  .language-switcher .dropdown-item:hover {
    background: var(--neutral-900);
    color: var(--neutral-100);
  }
  
  .language-switcher .dropdown-item:focus-visible {
    outline-color: var(--color-foreground-action);
  }
  
  .language-switcher .dropdown-item.active {
    color: var(--neutral-100);
    /* No background - has checkmark */
  }
  
  .language-check {
    color: var(--color-foreground-action);
  }
  
  /* Sidebar */
  .sidebar {
    background: var(--neutral-950);
    border-right-color: var(--neutral-800);
  }
  
  /* TOC Sidebar */
  .toc-sidebar {
    background: var(--neutral-950);
  }
  
  .nav-section-title {
    color: var(--color-neutral-300);
  }
  
  .nav-section-title.collapsible:hover {
    color: var(--color-neutral-100);
    background: var(--neutral-900);
  }

  .nav-section.expanded .nav-section-title.collapsible {
    color: var(--color-neutral-100);
  }
  
  .nav-item {
    color: var(--color-neutral-300);
  }
  
  .nav-item:hover {
    color: var(--color-neutral-100);
    background: var(--neutral-900);
  }
  
  .nav-item.active {
    color: var(--color-neutral-100);
    background: var(--neutral-800);
  }
  
  /* Main content */
  .main-content {
    background: var(--neutral-950);
  }
  
  /* --- 30.2 COMPONENTS --- */
  
  /* Tabs */
  
  .tab-button {
    color: var(--color-neutral-300);
  }
  
  .tab-button.active,
  .tab-button[aria-selected="true"] {
    color: var(--color-neutral-100);
  }
  
  /* Search modal */
  .search-modal-content {
    background-color: #252525;
    border-color: var(--neutral-700);
  }

  /* Tables - Same style as code blocks */
  .content table {
    background: var(--neutral-900);
  }

  .content table thead {
    background: var(--neutral-950);
  }

  .content table th {
    color: var(--color-neutral-100);
  }

  .content table tbody tr:nth-child(even) {
    background-color: var(--neutral-950);
  }

  .content table td {
    color: var(--color-neutral-300);
  }

  .content code:not(pre code) {
    background-color: var(--neutral-950);
    color: var(--color-neutral-300);
    border: 1px solid var(--color-border-primary);
    box-sizing: border-box;
  }
  
  /* Search Modal dark mode */
  .search-modal-content {
    background-color: var(--neutral-900);
    border-color: var(--neutral-700);
  }

  .search-modal-title {
    color: var(--color-neutral-100);
  }
  
  .search-modal-close {
    background-color: transparent !important;
    color: var(--color-neutral-300) !important;
    border-color: var(--color-border-primary) !important;
  }
  
  .search-modal-close:hover {
    background-color: var(--color-alpha-200) !important;
    border-color: var(--color-border-strong) !important;
    color: var(--color-neutral-300) !important;
    box-shadow: var(--shadow-surface-base) !important;
  }

  .search-modal-close:active {
    background-color: var(--color-alpha-100) !important;
    box-shadow: var(--shadow-inset) !important;
  }
  
  .search-modal .search-input {
    background-color: var(--neutral-950);
    border-color: var(--neutral-700);
    color: var(--color-neutral-100);
  }

  .search-modal .search-input:focus {
    background-color: var(--neutral-900);
    border-color: var(--color-accent);
  }

  .search-modal .search-input::placeholder {
    color: var(--color-neutral-500);
  }
  
  .search-modal-header {
    border-bottom-color: var(--neutral-800);
  }

  .search-modal .search-results {
    background: var(--neutral-900) !important;
    border-color: var(--neutral-800) !important;
  }
  
  .search-modal .search-result-item {
    color: var(--color-neutral-300) !important;
    border-bottom-color: var(--neutral-800);
  }
  
  .search-modal .search-result-item:hover {
    background-color: var(--neutral-800) !important;
    color: var(--color-neutral-100) !important;
  }
  
  .search-modal .search-result-item strong {
    color: var(--color-neutral-100);
  }
  
  .search-clear-btn {
    color: var(--color-neutral-400);
    border-color: var(--neutral-700);
  }
  
  .search-clear-btn:hover {
    background-color: var(--neutral-800);
    color: var(--color-neutral-100);
    border-color: var(--neutral-600);
  }

  .accordion-item {
    background: var(--neutral-900);
  }

  .accordion-header {
    color: var(--color-neutral-100);
  }

  .accordion-header-icon svg {
    stroke: var(--color-neutral-100);
  }

  .accordion-content {
    color: var(--color-neutral-300);
  }

  .accordion-filled .accordion-header {
    background-color: var(--neutral-900);
  }

  .accordion-filled .accordion-header:hover {
    background-color: var(--neutral-900);
  }

  .accordion-filled details[open] .accordion-header {
    background-color: var(--neutral-900);
    color: var(--color-neutral-100);
  }

  .accordion-filled details[open] .accordion-header .accordion-header-icon svg {
  stroke: var(--color-neutral-100);
  }

  /* Lazy loading */
  .lazy-app-container {
    background: var(--neutral-950);
    border-color: var(--neutral-800);
  }
  
  .lazy-app-container:hover {
    border-color: var(--neutral-700);
  }
  
  .app-placeholder {
    background: var(--neutral-950);
  }
  
  .loading-spinner .spinner {
    border-color: var(--neutral-700);
    border-top-color: var(--accent-primary);
  }

  /* Card Base */
  .card {
    background: var(--neutral-900);
  }

  /* Card Icon - SVG sprite or inline */
  .card-icon {
    background: var(--neutral-950);
    color: var(--color-foreground-action);
  }

  /* Card Title */
  .card-title {
    color: var(--color-neutral-100);
  }

  /* Card Text */
  .card-text {
    color: var(--color-neutral-300);
  }

  /* Card Footer (optional) */
  .card-footer {
    color: var(--color-neutral-300);
  }

  .card-primary .card-icon {
    background: var(--color-foreground-action);
    color: var(--color-foreground-high-contrast);
  }

  /* Pagination link - extends card link styles */
  .pagination-link {
  /* Base card styles */
    background: var(--neutral-900);
    color: var(--color-neutral-300);
  }

  /* Label (Previous/Next) */
  .pagination-label {
    color: var(--color-neutral-100);
  }

  .footer-legal a {
    color: var(--color-neutral-300);
  }

  .footer-legal a:hover {
    color: var(--color-neutral-100);
  }

  /* TOC Links dark mode */
  .toc-link {
    color: var(--color-neutral-300);
  }

  .toc-link:hover {
    color: var(--color-neutral-100);
  }

  .toc-link.active {
    color: var(--color-neutral-100);
  }

  /* --- 30.3 FORMS --- */
  
  /* Form variables */
  --form-label-color: var(--color-neutral-200);
  --form-helper-text-color: var(--color-neutral-400);
  --form-error-color: var(--color-red-200);
  
  /* Form buttons */
  form .button,
  form button[type="submit"],
  form button[type="reset"] {
    color: var(--color-neutral-200);
    background-color: var(--color-neutral-700);
    border-color: var(--color-alpha-300);
  }
  
  form .button:hover,
  form button[type="submit"]:hover,
  form button[type="reset"]:hover {
    background-color: var(--color-neutral-600);
    border-color: var(--color-alpha-200);
  }
}

/* Dark mode - Webkit scrollbar (Chrome, Safari, Edge) */
[data-theme="dark"] ::-webkit-scrollbar-track {
  background: var(--color-neutral-700);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background: var(--color-neutral-500);
  border-color: var(--color-neutral-700);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
  background: var(--color-neutral-400);
}
